<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>The Python Almanac &mdash; kpj&#39;s blog 0.0.1 documentation</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=80d5e7a1" />
      <link rel="stylesheet" type="text/css" href="../_static/css/theme.css?v=19f00094" />
      <link rel="stylesheet" type="text/css" href="../_static/nbsphinx-code-cells.css" />

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="../_static/jquery.js?v=5d32c60e"></script>
        <script src="../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script src="../_static/documentation_options.js?v=d45e8c67"></script>
        <script src="../_static/doctools.js?v=9a2dae69"></script>
        <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
        <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
        <script>window.MathJax = {"tex": {"inlineMath": [["$", "$"], ["\\(", "\\)"]], "processEscapes": true}, "options": {"ignoreHtmlClass": "tex2jax_ignore|mathjax_ignore|document", "processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
        <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Comparing threading and multiprocessing" href="ThreadingVSMultiprocessing.html" />
    <link rel="prev" title="Intercepting HTTP(S) Traffic of Android Applications" href="InterceptingHTTPTraffic.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../index.html" class="icon icon-home">
            kpj's blog
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Linux</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../linux/ConfigureFreshArchlinuxInstall.html">Configuring a fresh Archlinux Install</a></li>
<li class="toctree-l1"><a class="reference internal" href="../linux/Eduroam.html">Connecting to Eduroam Network</a></li>
<li class="toctree-l1"><a class="reference internal" href="../linux/EncryptPartitions.html">Encrypting Partitions using LUKS</a></li>
<li class="toctree-l1"><a class="reference internal" href="../linux/KernelBuilding.html">Building a Custom Linux Kernel</a></li>
<li class="toctree-l1"><a class="reference internal" href="../linux/MediaServerSetup.html">Setting up a media server</a></li>
<li class="toctree-l1"><a class="reference internal" href="../linux/MonitoringWithMunin.html">Monitoring server resources using Munin</a></li>
<li class="toctree-l1"><a class="reference internal" href="../linux/RescuingABrokenSystem.html">Rescuing a Broken Archlinux System</a></li>
<li class="toctree-l1"><a class="reference internal" href="../linux/SetupEncryptedArchlinux.html">Setting up Archlinux with Encrypted Disk</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Data Mining &amp; Visualization</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../mining_visualization/ArtOfLife.html">The Art of Life</a></li>
<li class="toctree-l1"><a class="reference internal" href="../mining_visualization/Eurostat_Visualizations.html">Visualizing Eurostat data</a></li>
<li class="toctree-l1"><a class="reference internal" href="../mining_visualization/IMDB_ratings.html">Investigating TV Series ratings using IMDB</a></li>
<li class="toctree-l1"><a class="reference internal" href="../mining_visualization/MEP_Statistics.html">Analyzing the European Parliament</a></li>
<li class="toctree-l1"><a class="reference internal" href="../mining_visualization/ProjectWordcloud.html">Creating a Wordcloud of Your (Work) Life</a></li>
<li class="toctree-l1"><a class="reference internal" href="../mining_visualization/SortingAnimations.html">Visualizing Sorting Algorithms</a></li>
<li class="toctree-l1"><a class="reference internal" href="../mining_visualization/SwissMountainProfiles.html">Visualizing Height Profiles of Swiss Mountains</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Statistics &amp; Machine Learning</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../stats_ml/Autoencoder.html">Playing with Variational Autoencoders</a></li>
<li class="toctree-l1"><a class="reference internal" href="../stats_ml/LinearRegressionCoefficients.html">Interpreting the coefficients of a linear regression</a></li>
<li class="toctree-l1"><a class="reference internal" href="../stats_ml/ProbabilityDistributionsOverview.html">The Daring Landscape of Probability Distribution Functions</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Miscellaneous</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="BenchmarkingCommonOperations.html">Benchmarking common operations</a></li>
<li class="toctree-l1"><a class="reference internal" href="InterceptingHTTPTraffic.html">Intercepting HTTP(S) Traffic of Android Applications</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">The Python Almanac</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#Introduction">Introduction</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#Installing-Python">Installing Python</a></li>
<li class="toctree-l3"><a class="reference internal" href="#Installing-packages">Installing packages</a></li>
<li class="toctree-l3"><a class="reference internal" href="#Package-management">Package management</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#Software-development">Software development</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#Package-Distribution">Package Distribution</a></li>
<li class="toctree-l3"><a class="reference internal" href="#Testing">Testing</a></li>
<li class="toctree-l3"><a class="reference internal" href="#Linting/Formatting">Linting/Formatting</a></li>
<li class="toctree-l3"><a class="reference internal" href="#Profiling">Profiling</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#line_profiler">line_profiler</a></li>
<li class="toctree-l4"><a class="reference internal" href="#memory_profiler">memory_profiler</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#Debugging">Debugging</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#Raw-python">Raw python</a></li>
<li class="toctree-l4"><a class="reference internal" href="#C++-extension:">C++ extension:</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#Documentation">Documentation</a></li>
<li class="toctree-l3"><a class="reference internal" href="#Logging">Logging</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#Data-Science">Data Science</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#SciPy">SciPy</a></li>
<li class="toctree-l3"><a class="reference internal" href="#Dataframes">Dataframes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#Python's-Tidyverse">Python’s Tidyverse</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#siuba-as-dplyr">siuba as dplyr</a></li>
<li class="toctree-l4"><a class="reference internal" href="#plotnine-as-ggplot2">plotnine as ggplot2</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#pandas-datareader">pandas-datareader</a></li>
<li class="toctree-l3"><a class="reference internal" href="#Networkx">Networkx</a></li>
<li class="toctree-l3"><a class="reference internal" href="#Plotting">Plotting</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#Matplotlib">Matplotlib</a></li>
<li class="toctree-l4"><a class="reference internal" href="#Seaborn">Seaborn</a></li>
<li class="toctree-l4"><a class="reference internal" href="#Statannot">Statannot</a></li>
<li class="toctree-l4"><a class="reference internal" href="#Brokenaxes">Brokenaxes</a></li>
<li class="toctree-l4"><a class="reference internal" href="#Adjusttext">Adjusttext</a></li>
<li class="toctree-l4"><a class="reference internal" href="#Folium">Folium</a></li>
<li class="toctree-l4"><a class="reference internal" href="#Ahlive">Ahlive</a></li>
<li class="toctree-l4"><a class="reference internal" href="#Color-palettes">Color palettes</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#High-performance">High performance</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#Dask">Dask</a></li>
<li class="toctree-l4"><a class="reference internal" href="#Vaex">Vaex</a></li>
<li class="toctree-l4"><a class="reference internal" href="#Joblib">Joblib</a></li>
<li class="toctree-l4"><a class="reference internal" href="#Swifter">Swifter</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#Bioinformatics">Bioinformatics</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#PyRanges">PyRanges</a></li>
<li class="toctree-l4"><a class="reference internal" href="#Obonet">Obonet</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#Statistics/Machine-Learning">Statistics/Machine Learning</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#Statsmodels">Statsmodels</a></li>
<li class="toctree-l4"><a class="reference internal" href="#Pingouin">Pingouin</a></li>
<li class="toctree-l4"><a class="reference internal" href="#Scitkit-learn">Scitkit-learn</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#Language-Bindings">Language Bindings</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#Pybind11">Pybind11</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#Jupyter">Jupyter</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#Nbstripout">Nbstripout</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#Miscellaneous">Miscellaneous</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#humanize">humanize</a></li>
<li class="toctree-l3"><a class="reference internal" href="#rich">rich</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#ToDo">ToDo</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="ThreadingVSMultiprocessing.html">Comparing threading and multiprocessing</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">OSS Projects</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../my_projects/bin2fasta.html">bin2fasta: Store any file as a fasta file</a></li>
<li class="toctree-l1"><a class="reference internal" href="../my_projects/clypper.html">clypper: Rapidly create supercuts from various video sources</a></li>
<li class="toctree-l1"><a class="reference internal" href="../my_projects/cookiecutter-python.html">cookiecutter-python: An opinionated template for Python packages</a></li>
<li class="toctree-l1"><a class="reference internal" href="../my_projects/gitviz.html">GitViz: Visualize the evolution of a git repository</a></li>
<li class="toctree-l1"><a class="reference internal" href="../my_projects/ipy_pdcache.html">ipy_pdcache: Automatically cache results of intensive computations in IPython</a></li>
<li class="toctree-l1"><a class="reference internal" href="../my_projects/jupyfmt.html">jupyfmt: The uncompromising Jupyter notebook formatter</a></li>
<li class="toctree-l1"><a class="reference internal" href="../my_projects/metagenompy.html">metagenompy: The NCBI taxonomy as a NetworkX graph</a></li>
<li class="toctree-l1"><a class="reference internal" href="../my_projects/pdftty.html">pdftty: A PDF viewer for the terminal</a></li>
<li class="toctree-l1"><a class="reference internal" href="../my_projects/plyder.html">plyder: Download Manager with Web-Interface</a></li>
<li class="toctree-l1"><a class="reference internal" href="../my_projects/pyskim.html">pyskim: Quick summary statistics for dataframes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../my_projects/rwrap.html">rwrap: Seamlessly integrate R packages into Python</a></li>
<li class="toctree-l1"><a class="reference internal" href="../my_projects/vydia.html">Vydia: A modularized video player</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Scientific Work</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../science/presentations.html">Presentations</a></li>
<li class="toctree-l1"><a class="reference internal" href="../science/publications.html">Publications</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">kpj's blog</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">The Python Almanac</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/misc/PythonAlmanac.ipynb.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="The-Python-Almanac">
<h1>The Python Almanac<a class="headerlink" href="#The-Python-Almanac" title="Link to this heading"></a></h1>
<p>The world of Python packages is adventurous and can be confusing at times. Here, I try to aggregate and showcase a diverse set of Python packages which have become useful at some point.</p>
<section id="Introduction">
<h2>Introduction<a class="headerlink" href="#Introduction" title="Link to this heading"></a></h2>
<section id="Installing-Python">
<h3>Installing Python<a class="headerlink" href="#Installing-Python" title="Link to this heading"></a></h3>
<p>Normally you should use your system’s package manager. In case of problems, try <a class="reference external" href="https://github.com/pyenv/pyenv">pyenv</a>:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>pyenv<span class="w"> </span>versions
$<span class="w"> </span>pyenv<span class="w"> </span>install<span class="w"> </span>&lt;foo&gt;
$<span class="w"> </span>pyenv<span class="w"> </span>global<span class="w"> </span>&lt;foo&gt;
</pre></div>
</div>
<p>This will install the specified Python version to <code class="docutils literal notranslate"><span class="pre">$(pyenv</span> <span class="pre">root)/versions</span></code>.</p>
</section>
<section id="Installing-packages">
<h3>Installing packages<a class="headerlink" href="#Installing-packages" title="Link to this heading"></a></h3>
<p>Python packages can be easily installed from <a class="reference external" href="https://pypi.org/">PyPI (Python Package Index)</a>:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>pip<span class="w"> </span>install<span class="w"> </span>--user<span class="w"> </span>&lt;package&gt;<span class="w"> </span><span class="o">(</span><span class="nb">local</span><span class="w"> </span>install<span class="w"> </span>does<span class="w"> </span>not<span class="w"> </span>clash<span class="w"> </span>with<span class="w"> </span>system<span class="w"> </span>packages<span class="o">)</span>
</pre></div>
</div>
<p>Using <code class="docutils literal notranslate"><span class="pre">--user</span></code> will install the package only for the current user. This is good if multiple users need different package versions, but can lead to redundant installations.</p>
<p>To install from a git repository, use the following command:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>pip<span class="w"> </span>install<span class="w"> </span>--user<span class="w"> </span>-U<span class="w"> </span>git+https://github.com/&lt;user&gt;/&lt;repository&gt;@&lt;branch&gt;
</pre></div>
</div>
</section>
<section id="Package-management">
<h3>Package management<a class="headerlink" href="#Package-management" title="Link to this heading"></a></h3>
<p>While packages can be installed globally or user-specific, it often makes sense to create project-specific virtual environments.</p>
<p>This can be easily accomplished using <a class="reference external" href="https://docs.python.org/3/library/venv.html">venv</a>:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>python<span class="w"> </span>-m<span class="w"> </span>venv<span class="w"> </span>my_venv
$<span class="w"> </span>.<span class="w"> </span>venv/bin/activate
$<span class="w"> </span>pip<span class="w"> </span>install<span class="w"> </span>&lt;package&gt;
</pre></div>
</div>
</section>
</section>
<section id="Software-development">
<h2>Software development<a class="headerlink" href="#Software-development" title="Link to this heading"></a></h2>
<section id="Package-Distribution">
<h3>Package Distribution<a class="headerlink" href="#Package-Distribution" title="Link to this heading"></a></h3>
<p>Use <code class="docutils literal notranslate"><span class="pre">setuptools</span></code>. <a class="reference external" href="https://github.com/sdispater/poetry">poetry</a> handles many otherwise slightly annoying things:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>$ poetry init/add/install/run/publish
</pre></div>
</div>
<p>CI encapsulation: <a class="reference external" href="https://github.com/tox-dev/tox">tox</a>.</p>
<p>Keeping track of version numbers can be achieved using <a class="reference external" href="https://github.com/c4urself/bump2version">bump2version</a>.</p>
<p>Transform between various project file formats using <a class="reference external" href="https://github.com/dephell/dephell">dephell</a>.</p>
</section>
<section id="Testing">
<h3>Testing<a class="headerlink" href="#Testing" title="Link to this heading"></a></h3>
<p>Setup testing using <a class="reference external" href="https://github.com/pytest-dev/pytest">pytest</a>. It has a wide range of useful features, such as fixtures (modularized per-test setup code) and test parametrization (quickly execute the same test for multiple inputs).</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[1]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">%%writefile</span> /tmp/tests.py

<span class="kn">import</span> <span class="nn">os</span>
<span class="kn">import</span> <span class="nn">pytest</span>


<span class="nd">@pytest</span><span class="o">.</span><span class="n">fixture</span><span class="p">(</span><span class="n">scope</span><span class="o">=</span><span class="s1">&#39;session&#39;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">custom_directory</span><span class="p">(</span><span class="n">tmp_path_factory</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">tmp_path_factory</span><span class="o">.</span><span class="n">mktemp</span><span class="p">(</span><span class="s1">&#39;workflow_test&#39;</span><span class="p">)</span>


<span class="k">def</span> <span class="nf">test_fixture_execution</span><span class="p">(</span><span class="n">custom_directory</span><span class="p">):</span>
    <span class="k">assert</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">isdir</span><span class="p">(</span><span class="n">custom_directory</span><span class="p">)</span>


<span class="nd">@pytest</span><span class="o">.</span><span class="n">mark</span><span class="o">.</span><span class="n">parametrize</span><span class="p">(</span><span class="s1">&#39;expression_str,result&#39;</span><span class="p">,</span> <span class="p">[</span>
    <span class="p">(</span><span class="s1">&#39;2+2&#39;</span><span class="p">,</span> <span class="mi">4</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;2*2&#39;</span><span class="p">,</span> <span class="mi">4</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;2**2&#39;</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>
<span class="p">])</span>
<span class="k">def</span> <span class="nf">test_expression_evaluation</span><span class="p">(</span><span class="n">expression_str</span><span class="p">,</span> <span class="n">result</span><span class="p">):</span>
    <span class="k">assert</span> <span class="nb">eval</span><span class="p">(</span><span class="n">expression_str</span><span class="p">)</span> <span class="o">==</span> <span class="n">result</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Writing /tmp/tests.py
</pre></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[2]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">!</span>pytest<span class="w"> </span>-v<span class="w"> </span>/tmp/tests.py
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
<span class="ansi-bold">============================= test session starts ==============================</span>
platform darwin -- Python 3.8.6, pytest-6.2.2, py-1.10.0, pluggy-0.13.1 -- /Users/kimja/.pyenv/versions/3.8.6/bin/python3.8
cachedir: .pytest_cache
rootdir: /tmp
plugins: anyio-2.0.2
collected 4 items

../../../../../../../../tmp/tests.py::test_fixture_execution <span class="ansi-green-fg">PASSED</span><span class="ansi-green-fg">      [ 25%]</span>
../../../../../../../../tmp/tests.py::test_expression_evaluation[2+2-4] <span class="ansi-green-fg">PASSED</span><span class="ansi-green-fg"> [ 50%]</span>
../../../../../../../../tmp/tests.py::test_expression_evaluation[2*2-4] <span class="ansi-green-fg">PASSED</span><span class="ansi-green-fg"> [ 75%]</span>
../../../../../../../../tmp/tests.py::test_expression_evaluation[2**2-4] <span class="ansi-green-fg">PASSED</span><span class="ansi-green-fg"> [100%]</span>

<span class="ansi-green-fg">============================== </span><span class="ansi-green-intense-fg ansi-bold">4 passed</span><span class="ansi-green-fg"> in 0.03s</span><span class="ansi-green-fg"> ===============================</span>
</pre></div></div>
</div>
</section>
<section id="Linting/Formatting">
<h3>Linting/Formatting<a class="headerlink" href="#Linting/Formatting" title="Link to this heading"></a></h3>
<p>Linters and code formatters improve the quality of your Python code by conducting a static analysis and flagging issues.</p>
<ul class="simple">
<li><p><a class="reference external" href="https://github.com/PyCQA/flake8">flake8</a>: Catch various common errors and adhere to PEP8. Supports many <a class="reference external" href="https://github.com/DmytroLitvinov/awesome-flake8-extensions">plugins</a>.</p></li>
<li><p><a class="reference external" href="https://github.com/PyCQA/pylint">pylint</a>: Looks for even more sources of code smell.</p></li>
<li><p><a class="reference external" href="https://github.com/psf/black">black</a>: “<em>the</em> uncompromising Python code formatter”.</p></li>
</ul>
<p>While there can be a considerable overlap between the tools’ outputs, each offers its own advantages and they can typically be used together.</p>
</section>
<section id="Profiling">
<h3>Profiling<a class="headerlink" href="#Profiling" title="Link to this heading"></a></h3>
<p>Code profiling tools are a great way of finding parts of your code which can be optimized. They come in various flavors:</p>
<ul class="simple">
<li><p><a class="reference external" href="https://github.com/pyutils/line_profiler">line_profiler</a>: which parts of the code require most execution time</p></li>
<li><p><a class="reference external" href="https://github.com/pythonprofilers/memory_profiler">memory_profiler</a>: which parts of the code consume the most memory</p></li>
</ul>
<p>Consider the following script (note the <code class="docutils literal notranslate"><span class="pre">&#64;profile</span></code> decorator):</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[3]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">%%writefile</span> /tmp/script.py

<span class="nd">@profile</span>
<span class="k">def</span> <span class="nf">main</span><span class="p">():</span>
    <span class="c1"># takes a long time</span>
    <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">100_000</span><span class="p">):</span>
        <span class="mi">1337</span><span class="o">**</span><span class="mi">42</span>

    <span class="c1"># requires a lot of memory</span>
    <span class="n">arr</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">*</span> <span class="mi">1_000_000</span>

<span class="n">main</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Writing /tmp/script.py
</pre></div></div>
</div>
<section id="line_profiler">
<h4>line_profiler<a class="headerlink" href="#line_profiler" title="Link to this heading"></a></h4>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[4]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">!</span>kernprof<span class="w"> </span>-l<span class="w"> </span>-v<span class="w"> </span>-o<span class="w"> </span>/tmp/script.py.lprof<span class="w"> </span>/tmp/script.py
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Wrote profile results to /tmp/script.py.lprof
Timer unit: 1e-06 s

Total time: 0.13024 s
File: /tmp/script.py
Function: main at line 2

Line #      Hits         Time  Per Hit   % Time  Line Contents
==============================================================
     2                                           @profile
     3                                           def main():
     4                                               # takes a long time
     5    100001      33213.0      0.3     25.5      for _ in range(100_000):
     6    100000      93762.0      0.9     72.0          1337**42
     7
     8                                               # requires a lot of memory
     9         1       3265.0   3265.0      2.5      arr = [1] * 1_000_000

</pre></div></div>
</div>
</section>
<section id="memory_profiler">
<h4>memory_profiler<a class="headerlink" href="#memory_profiler" title="Link to this heading"></a></h4>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[5]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">!</span>python3<span class="w"> </span>-m<span class="w"> </span>memory_profiler<span class="w"> </span>/tmp/script.py
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Filename: /tmp/script.py

Line #    Mem usage    Increment  Occurences   Line Contents
============================================================
     2   37.668 MiB   37.668 MiB           1   @profile
     3                                         def main():
     4                                             # takes a long time
     5   37.668 MiB    0.000 MiB      100001       for _ in range(100_000):
     6   37.668 MiB    0.000 MiB      100000           1337**42
     7
     8                                             # requires a lot of memory
     9   45.301 MiB    7.633 MiB           1       arr = [1] * 1_000_000


</pre></div></div>
</div>
</section>
</section>
<section id="Debugging">
<h3>Debugging<a class="headerlink" href="#Debugging" title="Link to this heading"></a></h3>
<section id="Raw-python">
<h4>Raw python<a class="headerlink" href="#Raw-python" title="Link to this heading"></a></h4>
<p><a class="reference external" href="https://github.com/gotcha/ipdb">ipdb</a> is useful Python commandline debugger. To invoke it, simply put <code class="docutils literal notranslate"><span class="pre">import</span> <span class="pre">ipdb;</span> <span class="pre">ipdb.set_trace()</span></code> in your code. Starting with Python 3.7, you can also write <code class="docutils literal notranslate"><span class="pre">breakpoint()</span></code>. This honors the <code class="docutils literal notranslate"><span class="pre">PYTHONBREAKPOINT</span></code> environment variable. To automatically start the debugger when an error occurs, run your script with <code class="docutils literal notranslate"><span class="pre">python</span> <span class="pre">-m</span> <span class="pre">ipdb</span> <span class="pre">-c</span> <span class="pre">continue</span> <span class="pre">&lt;script&gt;</span></code>.</p>
<p>The debugger supports various commands: * p: print expression * pp: pretty print * n: next line in current function * s: execute current line and stop at next possible location (e.g. in function call) * c: continue execution * unt: execute until we reach greater line * l: list source (<code class="docutils literal notranslate"><span class="pre">l</span> <span class="pre">.</span></code>) * ll: whole source code of current function * b: breakpoint (<code class="docutils literal notranslate"><span class="pre">[</span> <span class="pre">([filename:]lineno</span> <span class="pre">|</span> <span class="pre">function)</span> <span class="pre">[,</span> <span class="pre">condition]</span> <span class="pre">]</span></code>) * w/bt: print stack trace * u: move up the stack trace * d: move down the
stack trace * h: help * q: quit</p>
</section>
<section id="C++-extension:">
<h4>C++ extension:<a class="headerlink" href="#C++-extension:" title="Link to this heading"></a></h4>
<p>Open two windows: ipython, ldb (gdb)</p>
<p>In [1]: !ps aux | grep -i ipython (lldb) attach –pid 1234 (lldb) continue</p>
<p>(lldb) breakpoint set -f myfile.cpp -l 400</p>
<p>In [2]: run myscript.py</p>
</section>
</section>
<section id="Documentation">
<h3>Documentation<a class="headerlink" href="#Documentation" title="Link to this heading"></a></h3>
<p>sphinx, nbsphinx</p>
</section>
<section id="Logging">
<h3>Logging<a class="headerlink" href="#Logging" title="Link to this heading"></a></h3>
<p>There are various built-in and third-party logging modules available.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[6]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">loguru</span> <span class="kn">import</span> <span class="n">logger</span>
</pre></div>
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[7]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s1">&#39;Helpful debug message&#39;</span><span class="p">)</span>
<span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s1">&#39;oh no&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>
2021-05-01 11:27:35.525 | DEBUG    | __main__:&lt;module&gt;:1 - Helpful debug message
2021-05-01 11:27:35.526 | ERROR    | __main__:&lt;module&gt;:2 - oh no
</pre></div></div>
</div>
</section>
</section>
<section id="Data-Science">
<h2>Data Science<a class="headerlink" href="#Data-Science" title="Link to this heading"></a></h2>
<section id="SciPy">
<h3>SciPy<a class="headerlink" href="#SciPy" title="Link to this heading"></a></h3>
<p><a class="reference external" href="https://www.scipy.org/">SciPy</a> is comprised of various popular Python modules which are for scientific computations.</p>
<p><a class="reference external" href="https://numpy.org/">Numpy</a> can be used for a multitude of things.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[8]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[9]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">data</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">normal</span><span class="p">(</span><span class="n">size</span><span class="o">=</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span> <span class="mi">3</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[10]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">data</span><span class="p">[:</span><span class="mi">10</span><span class="p">,</span> <span class="p">:]</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[10]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
array([[ 0.12591488, -0.4218942 , -2.12752191],
       [ 1.27252206,  0.22487169, -0.96513306],
       [ 0.42667086, -0.61475518, -0.11270731],
       [ 0.52754573,  0.29209191, -0.03715688],
       [-1.4418503 , -0.45623167, -0.56817326],
       [ 0.53189076,  0.55974594, -0.98371494],
       [ 1.00713651,  0.2159477 ,  0.14132138],
       [ 0.5308628 , -1.82106195, -0.44155486],
       [-1.04296029,  0.16444262, -0.2541122 ],
       [ 0.66799592, -1.62949468,  1.29769595]])
</pre></div></div>
</div>
</section>
<section id="Dataframes">
<h3>Dataframes<a class="headerlink" href="#Dataframes" title="Link to this heading"></a></h3>
<p>Organizing your data in dataframes using <a class="reference external" href="https://pandas.pydata.org/">pandas</a> makes nearly everything easier.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[11]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[12]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;A&#39;</span><span class="p">,</span> <span class="s1">&#39;B&#39;</span><span class="p">,</span> <span class="s1">&#39;C&#39;</span><span class="p">])</span>
<span class="n">df</span><span class="p">[</span><span class="s1">&#39;group&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">([</span><span class="s1">&#39;G1&#39;</span><span class="p">,</span> <span class="s1">&#39;G2&#39;</span><span class="p">],</span> <span class="n">size</span><span class="o">=</span><span class="n">df</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[13]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[13]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>A</th>
      <th>B</th>
      <th>C</th>
      <th>group</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>0.125915</td>
      <td>-0.421894</td>
      <td>-2.127522</td>
      <td>G1</td>
    </tr>
    <tr>
      <th>1</th>
      <td>1.272522</td>
      <td>0.224872</td>
      <td>-0.965133</td>
      <td>G1</td>
    </tr>
    <tr>
      <th>2</th>
      <td>0.426671</td>
      <td>-0.614755</td>
      <td>-0.112707</td>
      <td>G1</td>
    </tr>
    <tr>
      <th>3</th>
      <td>0.527546</td>
      <td>0.292092</td>
      <td>-0.037157</td>
      <td>G1</td>
    </tr>
    <tr>
      <th>4</th>
      <td>-1.441850</td>
      <td>-0.456232</td>
      <td>-0.568173</td>
      <td>G1</td>
    </tr>
  </tbody>
</table>
</div></div>
</div>
</section>
<section id="Python's-Tidyverse">
<h3>Python’s Tidyverse<a class="headerlink" href="#Python's-Tidyverse" title="Link to this heading"></a></h3>
<p>The philosophy of R’s <a class="reference external" href="https://www.tidyverse.org/">tidyverse</a> makes working with dataframes a joy. The following packages try to bring these concepts to the world of Python.</p>
<section id="siuba-as-dplyr">
<h4>siuba as dplyr<a class="headerlink" href="#siuba-as-dplyr" title="Link to this heading"></a></h4>
<p><a class="reference external" href="https://github.com/machow/siuba">siuba</a> implements a grammar of data manipulation inspired by <a class="reference external" href="https://github.com/tidyverse/dplyr">dplyr</a>. It starts by introducing various piping operations to pandas dataframes.</p>
<p><a class="reference external" href="https://github.com/kieferk/dfply">dfply</a> and <a class="reference external" href="https://github.com/has2k1/plydata">plydata</a> do (more or less) the same thing.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[14]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">siuba</span> <span class="kn">import</span> <span class="n">group_by</span><span class="p">,</span> <span class="n">summarize</span><span class="p">,</span> <span class="n">_</span>
<span class="kn">from</span> <span class="nn">siuba.data</span> <span class="kn">import</span> <span class="n">mtcars</span>
</pre></div>
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[15]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="p">(</span><span class="n">mtcars</span> <span class="o">&gt;&gt;</span> <span class="n">group_by</span><span class="p">(</span><span class="n">_</span><span class="o">.</span><span class="n">cyl</span><span class="p">)</span> <span class="o">&gt;&gt;</span> <span class="n">summarize</span><span class="p">(</span><span class="n">hp_mean</span><span class="o">=</span><span class="n">_</span><span class="o">.</span><span class="n">hp</span><span class="o">.</span><span class="n">mean</span><span class="p">()))</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[15]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>cyl</th>
      <th>hp_mean</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>4</td>
      <td>82.636364</td>
    </tr>
    <tr>
      <th>1</th>
      <td>6</td>
      <td>122.285714</td>
    </tr>
    <tr>
      <th>2</th>
      <td>8</td>
      <td>209.214286</td>
    </tr>
  </tbody>
</table>
</div></div>
</div>
</section>
<section id="plotnine-as-ggplot2">
<h4>plotnine as ggplot2<a class="headerlink" href="#plotnine-as-ggplot2" title="Link to this heading"></a></h4>
<p><a class="reference external" href="https://github.com/has2k1/plotnine">plotnine</a> implements a grammar of graphics and is (in ideology) based on R’s <a class="reference external" href="https://github.com/tidyverse/ggplot2">ggplot2</a>.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[16]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">plotnine</span>
</pre></div>
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[17]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># first convert dataframe from wide to long format</span>
<span class="n">df_long</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">melt</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">id_vars</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;group&#39;</span><span class="p">])</span>
<span class="n">df_long</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[17]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>group</th>
      <th>variable</th>
      <th>value</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>G1</td>
      <td>A</td>
      <td>0.125915</td>
    </tr>
    <tr>
      <th>1</th>
      <td>G1</td>
      <td>A</td>
      <td>1.272522</td>
    </tr>
    <tr>
      <th>2</th>
      <td>G1</td>
      <td>A</td>
      <td>0.426671</td>
    </tr>
    <tr>
      <th>3</th>
      <td>G1</td>
      <td>A</td>
      <td>0.527546</td>
    </tr>
    <tr>
      <th>4</th>
      <td>G1</td>
      <td>A</td>
      <td>-1.441850</td>
    </tr>
  </tbody>
</table>
</div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[18]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="p">(</span>
    <span class="n">plotnine</span><span class="o">.</span><span class="n">ggplot</span><span class="p">(</span><span class="n">df_long</span><span class="p">,</span> <span class="n">plotnine</span><span class="o">.</span><span class="n">aes</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="s1">&#39;variable&#39;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s1">&#39;value&#39;</span><span class="p">,</span> <span class="n">fill</span><span class="o">=</span><span class="s1">&#39;group&#39;</span><span class="p">))</span>
    <span class="o">+</span> <span class="n">plotnine</span><span class="o">.</span><span class="n">geom_boxplot</span><span class="p">()</span>
    <span class="o">+</span> <span class="n">plotnine</span><span class="o">.</span><span class="n">facet_wrap</span><span class="p">(</span><span class="s1">&#39;~group&#39;</span><span class="p">)</span>
    <span class="o">+</span> <span class="n">plotnine</span><span class="o">.</span><span class="n">theme_minimal</span><span class="p">()</span>
<span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../_images/misc_PythonAlmanac_42_0.png" src="../_images/misc_PythonAlmanac_42_0.png" />
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[18]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
&lt;ggplot: (334842766)&gt;
</pre></div></div>
</div>
</section>
</section>
<section id="pandas-datareader">
<h3>pandas-datareader<a class="headerlink" href="#pandas-datareader" title="Link to this heading"></a></h3>
<p>What fun is data science without data?</p>
<p><a class="reference external" href="https://github.com/pydata/pandas-datareader">pandas-datareader</a> gives you direct access to a diverse set of data sources.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[19]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pandas_datareader</span> <span class="k">as</span> <span class="nn">pdr</span>
</pre></div>
</div>
</div>
<p>For example, <a class="reference external" href="https://ec.europa.eu/eurostat/data/database">databases from Eurostat</a> are readily available:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[20]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># ilc_pw01: Average rating of satisfaction by domain, sex, age and educational attainment level</span>
<span class="n">df_eurostat</span> <span class="o">=</span> <span class="n">pdr</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">DataReader</span><span class="p">(</span><span class="s1">&#39;ilc_pw01&#39;</span><span class="p">,</span> <span class="s1">&#39;eurostat&#39;</span><span class="p">)</span>
<span class="n">df_eurostat</span><span class="o">.</span><span class="n">T</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[20]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th>TIME_PERIOD</th>
      <th>2018-01-01</th>
    </tr>
    <tr>
      <th>ISCED11</th>
      <th>UNIT</th>
      <th>SEX</th>
      <th>INDIC_WB</th>
      <th>AGE</th>
      <th>GEO</th>
      <th>FREQ</th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th rowspan="5" valign="top">Less than primary, primary and lower secondary education (levels 0-2)</th>
      <th rowspan="5" valign="top">Rating (0-10)</th>
      <th rowspan="5" valign="top">Females</th>
      <th rowspan="5" valign="top">Satisfaction with accommodation</th>
      <th rowspan="5" valign="top">From 16 to 24 years</th>
      <th>Austria</th>
      <th>Annual</th>
      <td>NaN</td>
    </tr>
    <tr>
      <th>Belgium</th>
      <th>Annual</th>
      <td>NaN</td>
    </tr>
    <tr>
      <th>Bulgaria</th>
      <th>Annual</th>
      <td>NaN</td>
    </tr>
    <tr>
      <th>Switzerland</th>
      <th>Annual</th>
      <td>NaN</td>
    </tr>
    <tr>
      <th>Cyprus</th>
      <th>Annual</th>
      <td>NaN</td>
    </tr>
  </tbody>
</table>
</div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[21]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_eurostat</span><span class="o">.</span><span class="n">columns</span><span class="o">.</span><span class="n">get_level_values</span><span class="p">(</span><span class="s1">&#39;SEX&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[21]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Index([&#39;Females&#39;, &#39;Females&#39;, &#39;Females&#39;, &#39;Females&#39;, &#39;Females&#39;, &#39;Females&#39;,
       &#39;Females&#39;, &#39;Females&#39;, &#39;Females&#39;, &#39;Females&#39;,
       ...
       &#39;Total&#39;, &#39;Total&#39;, &#39;Total&#39;, &#39;Total&#39;, &#39;Total&#39;, &#39;Total&#39;, &#39;Total&#39;, &#39;Total&#39;,
       &#39;Total&#39;, &#39;Total&#39;],
      dtype=&#39;object&#39;, name=&#39;SEX&#39;, length=58050)
</pre></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[22]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_sub</span> <span class="o">=</span> <span class="p">(</span>
    <span class="n">df_eurostat</span><span class="o">.</span><span class="n">T</span><span class="o">.</span><span class="n">xs</span><span class="p">(</span><span class="s1">&#39;All ISCED 2011 levels&#39;</span><span class="p">,</span> <span class="n">level</span><span class="o">=</span><span class="s1">&#39;ISCED11&#39;</span><span class="p">)</span>
    <span class="o">.</span><span class="n">xs</span><span class="p">(</span><span class="s1">&#39;Total&#39;</span><span class="p">,</span> <span class="n">level</span><span class="o">=</span><span class="s1">&#39;SEX&#39;</span><span class="p">)</span>
    <span class="o">.</span><span class="n">xs</span><span class="p">(</span><span class="s1">&#39;Rating (0-10)&#39;</span><span class="p">,</span> <span class="n">level</span><span class="o">=</span><span class="s1">&#39;UNIT&#39;</span><span class="p">)</span>
    <span class="o">.</span><span class="n">xs</span><span class="p">(</span><span class="s1">&#39;Annual&#39;</span><span class="p">,</span> <span class="n">level</span><span class="o">=</span><span class="s1">&#39;FREQ&#39;</span><span class="p">)</span>
    <span class="o">.</span><span class="n">reset_index</span><span class="p">()</span>
    <span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="s1">&#39;GEO&#39;</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
    <span class="o">.</span><span class="n">rename</span><span class="p">(</span>
        <span class="n">columns</span><span class="o">=</span><span class="p">{</span>
            <span class="n">pd</span><span class="o">.</span><span class="n">Timestamp</span><span class="p">(</span><span class="s1">&#39;2018-01-01 00:00:00&#39;</span><span class="p">):</span> <span class="s1">&#39;satisfaction&#39;</span><span class="p">,</span>
            <span class="s1">&#39;INDIC_WB&#39;</span><span class="p">:</span> <span class="s1">&#39;type&#39;</span><span class="p">,</span>
            <span class="s1">&#39;AGE&#39;</span><span class="p">:</span> <span class="s1">&#39;age_range&#39;</span><span class="p">,</span>
        <span class="p">}</span>
    <span class="p">)</span>
<span class="p">)</span>
<span class="n">df_sub</span> <span class="o">=</span> <span class="n">df_sub</span><span class="p">[</span>
    <span class="n">df_sub</span><span class="p">[</span><span class="s1">&#39;age_range&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">isin</span><span class="p">(</span>
        <span class="p">[</span>
            <span class="s1">&#39;From 16 to 24 years&#39;</span><span class="p">,</span>
            <span class="s1">&#39;From 25 to 34 years&#39;</span><span class="p">,</span>
            <span class="s1">&#39;From 35 to 49 years&#39;</span><span class="p">,</span>
            <span class="s1">&#39;From 50 to 64 years&#39;</span><span class="p">,</span>
            <span class="s1">&#39;From 65 to 74 years&#39;</span><span class="p">,</span>
        <span class="p">]</span>
    <span class="p">)</span>
<span class="p">]</span>
<span class="n">df_sub</span><span class="o">.</span><span class="n">dropna</span><span class="p">()</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[22]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th>TIME_PERIOD</th>
      <th>type</th>
      <th>age_range</th>
      <th>satisfaction</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>774</th>
      <td>Satisfaction with financial situation</td>
      <td>From 16 to 24 years</td>
      <td>7.7</td>
    </tr>
    <tr>
      <th>775</th>
      <td>Satisfaction with financial situation</td>
      <td>From 16 to 24 years</td>
      <td>7.1</td>
    </tr>
    <tr>
      <th>776</th>
      <td>Satisfaction with financial situation</td>
      <td>From 16 to 24 years</td>
      <td>4.1</td>
    </tr>
    <tr>
      <th>777</th>
      <td>Satisfaction with financial situation</td>
      <td>From 16 to 24 years</td>
      <td>7.1</td>
    </tr>
    <tr>
      <th>778</th>
      <td>Satisfaction with financial situation</td>
      <td>From 16 to 24 years</td>
      <td>6.4</td>
    </tr>
  </tbody>
</table>
</div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[23]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="p">(</span>
    <span class="n">plotnine</span><span class="o">.</span><span class="n">ggplot</span><span class="p">(</span>
        <span class="n">df_sub</span><span class="o">.</span><span class="n">dropna</span><span class="p">(),</span> <span class="n">plotnine</span><span class="o">.</span><span class="n">aes</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="s1">&#39;type&#39;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s1">&#39;satisfaction&#39;</span><span class="p">,</span> <span class="n">fill</span><span class="o">=</span><span class="s1">&#39;age_range&#39;</span><span class="p">)</span>
    <span class="p">)</span>
    <span class="o">+</span> <span class="n">plotnine</span><span class="o">.</span><span class="n">geom_boxplot</span><span class="p">()</span>
    <span class="o">+</span> <span class="n">plotnine</span><span class="o">.</span><span class="n">theme_minimal</span><span class="p">()</span>
    <span class="o">+</span> <span class="n">plotnine</span><span class="o">.</span><span class="n">theme</span><span class="p">(</span><span class="n">axis_text_x</span><span class="o">=</span><span class="n">plotnine</span><span class="o">.</span><span class="n">element_text</span><span class="p">(</span><span class="n">rotation</span><span class="o">=</span><span class="mi">45</span><span class="p">,</span> <span class="n">hjust</span><span class="o">=</span><span class="mi">1</span><span class="p">))</span>
<span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../_images/misc_PythonAlmanac_49_0.png" src="../_images/misc_PythonAlmanac_49_0.png" />
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[23]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
&lt;ggplot: (334895665)&gt;
</pre></div></div>
</div>
</section>
<section id="Networkx">
<h3>Networkx<a class="headerlink" href="#Networkx" title="Link to this heading"></a></h3>
<p><a class="reference external" href="https://github.com/networkx/networkx">Networkx</a> is a wonderful library for conducting network analysis.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[24]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">networkx</span> <span class="k">as</span> <span class="nn">nx</span>
</pre></div>
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[25]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">graph</span> <span class="o">=</span> <span class="n">nx</span><span class="o">.</span><span class="n">watts_strogatz_graph</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mf">0.1</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">nx</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="n">graph</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Name:
Type: Graph
Number of nodes: 100
Number of edges: 200
Average degree:   4.0000
</pre></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[26]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">pos</span> <span class="o">=</span> <span class="n">nx</span><span class="o">.</span><span class="n">drawing</span><span class="o">.</span><span class="n">nx_agraph</span><span class="o">.</span><span class="n">graphviz_layout</span><span class="p">(</span><span class="n">graph</span><span class="p">,</span> <span class="n">prog</span><span class="o">=</span><span class="s1">&#39;neato&#39;</span><span class="p">,</span> <span class="n">args</span><span class="o">=</span><span class="s1">&#39;-Goverlap=scale&#39;</span><span class="p">)</span>
<span class="nb">list</span><span class="p">(</span><span class="n">pos</span><span class="o">.</span><span class="n">items</span><span class="p">())[:</span><span class="mi">3</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[26]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
[(0, (2800.5, 870.29)), (1, (2479.1, 777.36)), (2, (2464.1, 408.03))]
</pre></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[27]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">node_clustering</span> <span class="o">=</span> <span class="n">nx</span><span class="o">.</span><span class="n">clustering</span><span class="p">(</span><span class="n">graph</span><span class="p">)</span>
<span class="nb">list</span><span class="p">(</span><span class="n">node_clustering</span><span class="o">.</span><span class="n">items</span><span class="p">())[:</span><span class="mi">3</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[27]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
[(0, 0.5), (1, 0.5), (2, 0.3333333333333333)]
</pre></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[28]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">nx</span><span class="o">.</span><span class="n">draw</span><span class="p">(</span>
    <span class="n">graph</span><span class="p">,</span>
    <span class="n">pos</span><span class="p">,</span>
    <span class="n">node_size</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span>
    <span class="n">nodelist</span><span class="o">=</span><span class="nb">list</span><span class="p">(</span><span class="n">node_clustering</span><span class="o">.</span><span class="n">keys</span><span class="p">()),</span>
    <span class="n">node_color</span><span class="o">=</span><span class="nb">list</span><span class="p">(</span><span class="n">node_clustering</span><span class="o">.</span><span class="n">values</span><span class="p">()),</span>
<span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../_images/misc_PythonAlmanac_55_0.png" src="../_images/misc_PythonAlmanac_55_0.png" />
</div>
</div>
</section>
<section id="Plotting">
<h3>Plotting<a class="headerlink" href="#Plotting" title="Link to this heading"></a></h3>
<section id="Matplotlib">
<h4>Matplotlib<a class="headerlink" href="#Matplotlib" title="Link to this heading"></a></h4>
<p><a class="reference external" href="https://matplotlib.org/">Matplotlib</a> is the de facto standard plotting library for Python.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[29]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
</pre></div>
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[30]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">()</span>

<span class="n">ax</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">data</span><span class="p">[:,</span> <span class="mi">0</span><span class="p">],</span> <span class="n">data</span><span class="p">[:,</span> <span class="mi">1</span><span class="p">])</span>

<span class="n">fig</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../_images/misc_PythonAlmanac_59_0.png" src="../_images/misc_PythonAlmanac_59_0.png" />
</div>
</div>
<p>Axis ticks can be formatted in a multitude of different <a class="reference external" href="https://matplotlib.org/api/ticker_api.html#tick-formatting">ways</a>. The most versatile way is probably <code class="docutils literal notranslate"><span class="pre">FuncFormatter</span></code>.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[31]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">matplotlib.ticker</span> <span class="kn">import</span> <span class="n">FuncFormatter</span>
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[32]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nd">@FuncFormatter</span>
<span class="k">def</span> <span class="nf">my_formatter</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">pos</span><span class="p">):</span>
    <span class="k">return</span> <span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">x</span><span class="si">=}</span><span class="s1">, </span><span class="si">{</span><span class="n">pos</span><span class="si">=}</span><span class="s1">&#39;</span>
</pre></div>
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[33]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">6</span><span class="p">))</span>

<span class="n">ax</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">data</span><span class="p">[:,</span> <span class="mi">0</span><span class="p">],</span> <span class="n">data</span><span class="p">[:,</span> <span class="mi">1</span><span class="p">])</span>

<span class="n">ax</span><span class="o">.</span><span class="n">xaxis</span><span class="o">.</span><span class="n">set_major_formatter</span><span class="p">(</span><span class="n">my_formatter</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">yaxis</span><span class="o">.</span><span class="n">set_major_formatter</span><span class="p">(</span><span class="n">my_formatter</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../_images/misc_PythonAlmanac_63_0.png" src="../_images/misc_PythonAlmanac_63_0.png" />
</div>
</div>
</section>
<section id="Seaborn">
<h4>Seaborn<a class="headerlink" href="#Seaborn" title="Link to this heading"></a></h4>
<p><a class="reference external" href="https://seaborn.pydata.org/">Seaborn</a> makes working with dataframes and creating commonly used plots accessible and comfortable.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[34]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">seaborn</span> <span class="k">as</span> <span class="nn">sns</span>
</pre></div>
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[35]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_long</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[35]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>group</th>
      <th>variable</th>
      <th>value</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>G1</td>
      <td>A</td>
      <td>0.125915</td>
    </tr>
    <tr>
      <th>1</th>
      <td>G1</td>
      <td>A</td>
      <td>1.272522</td>
    </tr>
    <tr>
      <th>2</th>
      <td>G1</td>
      <td>A</td>
      <td>0.426671</td>
    </tr>
    <tr>
      <th>3</th>
      <td>G1</td>
      <td>A</td>
      <td>0.527546</td>
    </tr>
    <tr>
      <th>4</th>
      <td>G1</td>
      <td>A</td>
      <td>-1.441850</td>
    </tr>
  </tbody>
</table>
</div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[36]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">sns</span><span class="o">.</span><span class="n">boxplot</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">df_long</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="s1">&#39;variable&#39;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s1">&#39;value&#39;</span><span class="p">,</span> <span class="n">hue</span><span class="o">=</span><span class="s1">&#39;group&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[36]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
&lt;AxesSubplot:xlabel=&#39;variable&#39;, ylabel=&#39;value&#39;&gt;
</pre></div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../_images/misc_PythonAlmanac_67_1.png" src="../_images/misc_PythonAlmanac_67_1.png" />
</div>
</div>
</section>
<section id="Statannot">
<h4>Statannot<a class="headerlink" href="#Statannot" title="Link to this heading"></a></h4>
<p><a class="reference external" href="https://github.com/webermarcolivier/statannot">Statannot</a> can be used to quickly add markers of significance to comparison plots.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[37]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">statannot</span>
</pre></div>
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[38]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">ax</span> <span class="o">=</span> <span class="n">sns</span><span class="o">.</span><span class="n">boxplot</span><span class="p">(</span>
    <span class="n">data</span><span class="o">=</span><span class="n">df_long</span><span class="p">,</span>
    <span class="n">x</span><span class="o">=</span><span class="s1">&#39;variable&#39;</span><span class="p">,</span>
    <span class="n">y</span><span class="o">=</span><span class="s1">&#39;value&#39;</span><span class="p">,</span>
    <span class="n">hue</span><span class="o">=</span><span class="s1">&#39;group&#39;</span><span class="p">,</span>
    <span class="n">order</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;A&#39;</span><span class="p">,</span> <span class="s1">&#39;B&#39;</span><span class="p">,</span> <span class="s1">&#39;C&#39;</span><span class="p">],</span>
    <span class="n">hue_order</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;G1&#39;</span><span class="p">,</span> <span class="s1">&#39;G2&#39;</span><span class="p">],</span>
<span class="p">)</span>

<span class="n">statannot</span><span class="o">.</span><span class="n">add_stat_annotation</span><span class="p">(</span>
    <span class="n">ax</span><span class="p">,</span>
    <span class="n">plot</span><span class="o">=</span><span class="s1">&#39;barplot&#39;</span><span class="p">,</span>
    <span class="n">data</span><span class="o">=</span><span class="n">df_long</span><span class="p">,</span>
    <span class="n">x</span><span class="o">=</span><span class="s1">&#39;variable&#39;</span><span class="p">,</span>
    <span class="n">y</span><span class="o">=</span><span class="s1">&#39;value&#39;</span><span class="p">,</span>
    <span class="n">hue</span><span class="o">=</span><span class="s1">&#39;group&#39;</span><span class="p">,</span>
    <span class="n">order</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;A&#39;</span><span class="p">,</span> <span class="s1">&#39;B&#39;</span><span class="p">,</span> <span class="s1">&#39;C&#39;</span><span class="p">],</span>
    <span class="n">hue_order</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;G1&#39;</span><span class="p">,</span> <span class="s1">&#39;G2&#39;</span><span class="p">],</span>
    <span class="n">box_pairs</span><span class="o">=</span><span class="p">[((</span><span class="s1">&#39;B&#39;</span><span class="p">,</span> <span class="s1">&#39;G1&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;B&#39;</span><span class="p">,</span> <span class="s1">&#39;G2&#39;</span><span class="p">))],</span>
    <span class="n">text_format</span><span class="o">=</span><span class="s1">&#39;simple&#39;</span><span class="p">,</span>
    <span class="n">test</span><span class="o">=</span><span class="s1">&#39;Mann-Whitney&#39;</span><span class="p">,</span>
<span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
B_G1 v.s. B_G2: Mann-Whitney-Wilcoxon test two-sided with Bonferroni correction, P_val=9.415e-01 U_stat=1.207e+03
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[38]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
(&lt;AxesSubplot:xlabel=&#39;variable&#39;, ylabel=&#39;value&#39;&gt;,
 [&lt;statannot.StatResult.StatResult at 0x1401d3ca0&gt;])
</pre></div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../_images/misc_PythonAlmanac_70_2.png" src="../_images/misc_PythonAlmanac_70_2.png" />
</div>
</div>
</section>
<section id="Brokenaxes">
<h4>Brokenaxes<a class="headerlink" href="#Brokenaxes" title="Link to this heading"></a></h4>
<p><a class="reference external" href="https://github.com/bendichter/brokenaxes">Brokenaxes</a> can be used to include outliers in a plot without messing up the axis range. Note that this can be quite misleading.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[39]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">brokenaxes</span>
</pre></div>
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[40]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">bax</span> <span class="o">=</span> <span class="n">brokenaxes</span><span class="o">.</span><span class="n">brokenaxes</span><span class="p">(</span><span class="n">ylims</span><span class="o">=</span><span class="p">((</span><span class="mi">0</span><span class="p">,</span> <span class="mi">20</span><span class="p">),</span> <span class="p">(</span><span class="mi">90</span><span class="p">,</span> <span class="mi">110</span><span class="p">)))</span>
<span class="n">bax</span><span class="o">.</span><span class="n">boxplot</span><span class="p">([</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">normal</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="mi">100</span><span class="p">),</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">normal</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="mi">100</span><span class="p">)])</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[40]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
[{&#39;whiskers&#39;: [&lt;matplotlib.lines.Line2D at 0x14037ba30&gt;,
   &lt;matplotlib.lines.Line2D at 0x14038b3d0&gt;,
   &lt;matplotlib.lines.Line2D at 0x140399850&gt;,
   &lt;matplotlib.lines.Line2D at 0x140399b50&gt;],
  &#39;caps&#39;: [&lt;matplotlib.lines.Line2D at 0x14038b730&gt;,
   &lt;matplotlib.lines.Line2D at 0x14038ba90&gt;,
   &lt;matplotlib.lines.Line2D at 0x140399eb0&gt;,
   &lt;matplotlib.lines.Line2D at 0x1403a5250&gt;],
  &#39;boxes&#39;: [&lt;matplotlib.lines.Line2D at 0x140385490&gt;,
   &lt;matplotlib.lines.Line2D at 0x1403994f0&gt;],
  &#39;medians&#39;: [&lt;matplotlib.lines.Line2D at 0x14038bdf0&gt;,
   &lt;matplotlib.lines.Line2D at 0x1403a55b0&gt;],
  &#39;fliers&#39;: [&lt;matplotlib.lines.Line2D at 0x140399190&gt;,
   &lt;matplotlib.lines.Line2D at 0x1403a5910&gt;],
  &#39;means&#39;: []},
 {&#39;whiskers&#39;: [&lt;matplotlib.lines.Line2D at 0x1403af040&gt;,
   &lt;matplotlib.lines.Line2D at 0x1403af3a0&gt;,
   &lt;matplotlib.lines.Line2D at 0x1403ba6d0&gt;,
   &lt;matplotlib.lines.Line2D at 0x1403baa30&gt;],
  &#39;caps&#39;: [&lt;matplotlib.lines.Line2D at 0x1403af5b0&gt;,
   &lt;matplotlib.lines.Line2D at 0x1403af910&gt;,
   &lt;matplotlib.lines.Line2D at 0x1403bad90&gt;,
   &lt;matplotlib.lines.Line2D at 0x1403c7100&gt;],
  &#39;boxes&#39;: [&lt;matplotlib.lines.Line2D at 0x1403a5ca0&gt;,
   &lt;matplotlib.lines.Line2D at 0x1403ba370&gt;],
  &#39;medians&#39;: [&lt;matplotlib.lines.Line2D at 0x1403afc70&gt;,
   &lt;matplotlib.lines.Line2D at 0x1403c7460&gt;],
  &#39;fliers&#39;: [&lt;matplotlib.lines.Line2D at 0x1403affd0&gt;,
   &lt;matplotlib.lines.Line2D at 0x1403c77c0&gt;],
  &#39;means&#39;: []}]
</pre></div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../_images/misc_PythonAlmanac_73_1.png" src="../_images/misc_PythonAlmanac_73_1.png" />
</div>
</div>
</section>
<section id="Adjusttext">
<h4>Adjusttext<a class="headerlink" href="#Adjusttext" title="Link to this heading"></a></h4>
<p><a class="reference external" href="https://github.com/Phlya/adjustText">Adjusttext</a> can help for plots with many labels which potentially overlap.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[41]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">adjustText</span> <span class="kn">import</span> <span class="n">adjust_text</span>
</pre></div>
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[42]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">data_sub</span> <span class="o">=</span> <span class="n">data</span><span class="p">[:</span><span class="mi">40</span><span class="p">,</span> <span class="p">:]</span>
<span class="n">fig</span><span class="p">,</span> <span class="p">(</span><span class="n">ax_raw</span><span class="p">,</span> <span class="n">ax_adj</span><span class="p">)</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">nrows</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">ncols</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">16</span><span class="p">,</span> <span class="mi">6</span><span class="p">))</span>

<span class="n">ax_raw</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">data_sub</span><span class="p">[:,</span> <span class="mi">0</span><span class="p">],</span> <span class="n">data_sub</span><span class="p">[:,</span> <span class="mi">1</span><span class="p">])</span>
<span class="p">[</span>
    <span class="n">ax_raw</span><span class="o">.</span><span class="n">annotate</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="nb">round</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">)</span><span class="si">}</span><span class="s1">,</span><span class="si">{</span><span class="nb">round</span><span class="p">(</span><span class="n">y</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">,</span> <span class="n">xy</span><span class="o">=</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">))</span>
    <span class="k">for</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span> <span class="ow">in</span> <span class="n">data_sub</span><span class="p">[:,</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">]]</span>
<span class="p">]</span>

<span class="n">ax_adj</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">data_sub</span><span class="p">[:,</span> <span class="mi">0</span><span class="p">],</span> <span class="n">data_sub</span><span class="p">[:,</span> <span class="mi">1</span><span class="p">])</span>
<span class="n">adjust_text</span><span class="p">(</span>
    <span class="p">[</span>
        <span class="n">ax_adj</span><span class="o">.</span><span class="n">annotate</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="nb">round</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">)</span><span class="si">}</span><span class="s1">,</span><span class="si">{</span><span class="nb">round</span><span class="p">(</span><span class="n">y</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">,</span> <span class="n">xy</span><span class="o">=</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">))</span>
        <span class="k">for</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span> <span class="ow">in</span> <span class="n">data_sub</span><span class="p">[:,</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">]]</span>
    <span class="p">],</span>
    <span class="n">arrowprops</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span><span class="n">arrowstyle</span><span class="o">=</span><span class="s1">&#39;-&gt;&#39;</span><span class="p">),</span>
<span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[42]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
182
</pre></div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../_images/misc_PythonAlmanac_76_1.png" src="../_images/misc_PythonAlmanac_76_1.png" />
</div>
</div>
</section>
<section id="Folium">
<h4>Folium<a class="headerlink" href="#Folium" title="Link to this heading"></a></h4>
<p><a class="reference external" href="https://github.com/python-visualization/folium">Folium</a> is a Python wrapper of the <a class="reference external" href="https://leafletjs.com/">Leaflet.js</a> library to visualize dynamic maps.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[43]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">folium</span>
</pre></div>
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[44]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">folium</span><span class="o">.</span><span class="n">Map</span><span class="p">(</span>
    <span class="n">location</span><span class="o">=</span><span class="p">[</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">uniform</span><span class="p">(</span><span class="mi">40</span><span class="p">,</span> <span class="mi">70</span><span class="p">),</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">uniform</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">30</span><span class="p">)],</span>
    <span class="n">zoom_start</span><span class="o">=</span><span class="mi">7</span><span class="p">,</span>
    <span class="n">width</span><span class="o">=</span><span class="mi">500</span><span class="p">,</span>
    <span class="n">height</span><span class="o">=</span><span class="mi">500</span><span class="p">,</span>
<span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[44]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<div style="width:100%;"><div style="position:relative;width:100%;height:0;padding-bottom:60%;"><span style="color:#565656">Make this Notebook Trusted to load map: File -> Trust Notebook</span><iframe src="about:blank" style="position:absolute;width:100%;height:100%;left:0;top:0;border:none !important;" data-html=%3C%21DOCTYPE%20html%3E%0A%3Chead%3E%20%20%20%20%0A%20%20%20%20%3Cmeta%20http-equiv%3D%22content-type%22%20content%3D%22text/html%3B%20charset%3DUTF-8%22%20/%3E%0A%20%20%20%20%0A%20%20%20%20%20%20%20%20%3Cscript%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20L_NO_TOUCH%20%3D%20false%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20L_DISABLE_3D%20%3D%20false%3B%0A%20%20%20%20%20%20%20%20%3C/script%3E%0A%20%20%20%20%0A%20%20%20%20%3Cstyle%3Ehtml%2C%20body%20%7Bwidth%3A%20100%25%3Bheight%3A%20100%25%3Bmargin%3A%200%3Bpadding%3A%200%3B%7D%3C/style%3E%0A%20%20%20%20%3Cstyle%3E%23map%20%7Bposition%3Aabsolute%3Btop%3A0%3Bbottom%3A0%3Bright%3A0%3Bleft%3A0%3B%7D%3C/style%3E%0A%20%20%20%20%3Cscript%20src%3D%22https%3A//cdn.jsdelivr.net/npm/leaflet%401.6.0/dist/leaflet.js%22%3E%3C/script%3E%0A%20%20%20%20%3Cscript%20src%3D%22https%3A//code.jquery.com/jquery-1.12.4.min.js%22%3E%3C/script%3E%0A%20%20%20%20%3Cscript%20src%3D%22https%3A//maxcdn.bootstrapcdn.com/bootstrap/3.2.0/js/bootstrap.min.js%22%3E%3C/script%3E%0A%20%20%20%20%3Cscript%20src%3D%22https%3A//cdnjs.cloudflare.com/ajax/libs/Leaflet.awesome-markers/2.0.2/leaflet.awesome-markers.js%22%3E%3C/script%3E%0A%20%20%20%20%3Clink%20rel%3D%22stylesheet%22%20href%3D%22https%3A//cdn.jsdelivr.net/npm/leaflet%401.6.0/dist/leaflet.css%22/%3E%0A%20%20%20%20%3Clink%20rel%3D%22stylesheet%22%20href%3D%22https%3A//maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap.min.css%22/%3E%0A%20%20%20%20%3Clink%20rel%3D%22stylesheet%22%20href%3D%22https%3A//maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap-theme.min.css%22/%3E%0A%20%20%20%20%3Clink%20rel%3D%22stylesheet%22%20href%3D%22https%3A//maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css%22/%3E%0A%20%20%20%20%3Clink%20rel%3D%22stylesheet%22%20href%3D%22https%3A//cdnjs.cloudflare.com/ajax/libs/Leaflet.awesome-markers/2.0.2/leaflet.awesome-markers.css%22/%3E%0A%20%20%20%20%3Clink%20rel%3D%22stylesheet%22%20href%3D%22https%3A//cdn.jsdelivr.net/gh/python-visualization/folium/folium/templates/leaflet.awesome.rotate.min.css%22/%3E%0A%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cmeta%20name%3D%22viewport%22%20content%3D%22width%3Ddevice-width%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20initial-scale%3D1.0%2C%20maximum-scale%3D1.0%2C%20user-scalable%3Dno%22%20/%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cstyle%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%23map_b9ba0c5f5c04439ca5c5f7be9014f92c%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20position%3A%20relative%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20width%3A%20500.0px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20height%3A%20500.0px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20left%3A%200.0%25%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20top%3A%200.0%25%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%3C/style%3E%0A%20%20%20%20%20%20%20%20%0A%3C/head%3E%0A%3Cbody%3E%20%20%20%20%0A%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22folium-map%22%20id%3D%22map_b9ba0c5f5c04439ca5c5f7be9014f92c%22%20%3E%3C/div%3E%0A%20%20%20%20%20%20%20%20%0A%3C/body%3E%0A%3Cscript%3E%20%20%20%20%0A%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20map_b9ba0c5f5c04439ca5c5f7be9014f92c%20%3D%20L.map%28%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22map_b9ba0c5f5c04439ca5c5f7be9014f92c%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20center%3A%20%5B42.55173578347529%2C%2028.161306842438727%5D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20crs%3A%20L.CRS.EPSG3857%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20zoom%3A%207%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20zoomControl%3A%20true%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20preferCanvas%3A%20false%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%29%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%0A%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20tile_layer_db6424522a1f45f7aebbb400a565abe5%20%3D%20L.tileLayer%28%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22https%3A//%7Bs%7D.tile.openstreetmap.org/%7Bz%7D/%7Bx%7D/%7By%7D.png%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%22attribution%22%3A%20%22Data%20by%20%5Cu0026copy%3B%20%5Cu003ca%20href%3D%5C%22http%3A//openstreetmap.org%5C%22%5Cu003eOpenStreetMap%5Cu003c/a%5Cu003e%2C%20under%20%5Cu003ca%20href%3D%5C%22http%3A//www.openstreetmap.org/copyright%5C%22%5Cu003eODbL%5Cu003c/a%5Cu003e.%22%2C%20%22detectRetina%22%3A%20false%2C%20%22maxNativeZoom%22%3A%2018%2C%20%22maxZoom%22%3A%2018%2C%20%22minZoom%22%3A%200%2C%20%22noWrap%22%3A%20false%2C%20%22opacity%22%3A%201%2C%20%22subdomains%22%3A%20%22abc%22%2C%20%22tms%22%3A%20false%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%29.addTo%28map_b9ba0c5f5c04439ca5c5f7be9014f92c%29%3B%0A%20%20%20%20%20%20%20%20%0A%3C/script%3E onload="this.contentDocument.open();this.contentDocument.write(    decodeURIComponent(this.getAttribute('data-html')));this.contentDocument.close();" allowfullscreen webkitallowfullscreen mozallowfullscreen></iframe></div></div></div>
</div>
</section>
<section id="Ahlive">
<h4>Ahlive<a class="headerlink" href="#Ahlive" title="Link to this heading"></a></h4>
<p>Creating animated visualizations becomes easy and fun with <a class="reference external" href="https://ahlive.readthedocs.io/en/latest/">ahlive</a>.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[45]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">ahlive</span> <span class="k">as</span> <span class="nn">ah</span>
</pre></div>
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[46]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">adf</span> <span class="o">=</span> <span class="n">ah</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s1">&#39;A&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="s1">&#39;B&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]}),</span> <span class="n">xs</span><span class="o">=</span><span class="s1">&#39;A&#39;</span><span class="p">,</span> <span class="n">ys</span><span class="o">=</span><span class="s1">&#39;B&#39;</span><span class="p">)</span>

<span class="n">adf</span><span class="o">.</span><span class="n">render</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
[########################################] | 100% Completed |  6.5s
</pre></div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[46]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<img src="data:image/gif;base64,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" /></div>
</div>
</section>
<section id="Color-palettes">
<h4>Color palettes<a class="headerlink" href="#Color-palettes" title="Link to this heading"></a></h4>
<p>Choosing the right color palette for your visualization can be tricky. <a class="reference external" href="https://github.com/jiffyclub/palettable">palettable</a> provides many useful ones.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[47]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">palettable</span>
</pre></div>
</div>
</div>
<p>You can easily display a multitude of colorscales…</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[48]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">palettable</span><span class="o">.</span><span class="n">tableau</span><span class="o">.</span><span class="n">Tableau_10</span><span class="o">.</span><span class="n">show_discrete_image</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../_images/misc_PythonAlmanac_86_0.png" src="../_images/misc_PythonAlmanac_86_0.png" />
</div>
</div>
<p>…and access them in a variety of ways.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[49]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">palettable</span><span class="o">.</span><span class="n">tableau</span><span class="o">.</span><span class="n">Tableau_10</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">palettable</span><span class="o">.</span><span class="n">tableau</span><span class="o">.</span><span class="n">Tableau_10</span><span class="o">.</span><span class="n">type</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">palettable</span><span class="o">.</span><span class="n">tableau</span><span class="o">.</span><span class="n">Tableau_10</span><span class="o">.</span><span class="n">hex_colors</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">palettable</span><span class="o">.</span><span class="n">tableau</span><span class="o">.</span><span class="n">Tableau_10</span><span class="o">.</span><span class="n">mpl_colormap</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Tableau_10
qualitative
[&#39;#1F77B4&#39;, &#39;#FF7F0E&#39;, &#39;#2CA02C&#39;, &#39;#D62728&#39;, &#39;#9467BD&#39;, &#39;#8C564B&#39;, &#39;#E377C2&#39;, &#39;#7F7F7F&#39;, &#39;#BCBD22&#39;, &#39;#17BECF&#39;]
&lt;matplotlib.colors.LinearSegmentedColormap object at 0x1426fcac0&gt;
</pre></div></div>
</div>
</section>
</section>
<section id="High-performance">
<h3>High performance<a class="headerlink" href="#High-performance" title="Link to this heading"></a></h3>
<p>When dealing with large amounts of data or many computations, it can make sense to optimize hotspots in C++ or use specialized libraries.</p>
<section id="Dask">
<h4>Dask<a class="headerlink" href="#Dask" title="Link to this heading"></a></h4>
<p><a class="reference external" href="https://github.com/dask/dask">Dask</a> provides a Panda’s like interface to high-performance dataframes which support out-of-memory processing, cluster distribution, and more. It is particularly useful when the dataframe does not fit in RAM anymore. Common operations operate on chunks of the dataframe and are only executed when explicitly requested.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[50]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">dask.dataframe</span> <span class="k">as</span> <span class="nn">dd</span>
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[51]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">normal</span><span class="p">(</span><span class="n">size</span><span class="o">=</span><span class="p">(</span><span class="mi">1_000_000</span><span class="p">,</span> <span class="mi">2</span><span class="p">)),</span> <span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;A&#39;</span><span class="p">,</span> <span class="s1">&#39;B&#39;</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[52]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">ddf</span> <span class="o">=</span> <span class="n">dd</span><span class="o">.</span><span class="n">from_pandas</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">npartitions</span><span class="o">=</span><span class="mi">4</span><span class="p">)</span>
<span class="n">ddf</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[52]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>A</th>
      <th>B</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1.209945</td>
      <td>-0.829657</td>
    </tr>
    <tr>
      <th>1</th>
      <td>-1.041410</td>
      <td>0.138946</td>
    </tr>
    <tr>
      <th>2</th>
      <td>0.497872</td>
      <td>0.628439</td>
    </tr>
    <tr>
      <th>3</th>
      <td>-0.418077</td>
      <td>0.039312</td>
    </tr>
    <tr>
      <th>4</th>
      <td>-0.353732</td>
      <td>0.500529</td>
    </tr>
  </tbody>
</table>
</div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[53]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">ddf</span><span class="p">[</span><span class="s1">&#39;A&#39;</span><span class="p">]</span> <span class="o">+</span> <span class="n">ddf</span><span class="p">[</span><span class="s1">&#39;B&#39;</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[53]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Dask Series Structure:
npartitions=4
0         float64
250000        ...
500000        ...
750000        ...
999999        ...
dtype: float64
Dask Name: add, 16 tasks
</pre></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[54]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="p">(</span><span class="n">ddf</span><span class="p">[</span><span class="s1">&#39;A&#39;</span><span class="p">]</span> <span class="o">+</span> <span class="n">ddf</span><span class="p">[</span><span class="s1">&#39;B&#39;</span><span class="p">])</span><span class="o">.</span><span class="n">compute</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[54]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
0         0.380288
1        -0.902464
2         1.126310
3        -0.378765
4         0.146798
            ...
999995   -1.198871
999996    0.195255
999997    1.707589
999998   -1.505217
999999   -1.828147
Length: 1000000, dtype: float64
</pre></div></div>
</div>
</section>
<section id="Vaex">
<h4>Vaex<a class="headerlink" href="#Vaex" title="Link to this heading"></a></h4>
<p><a class="reference external" href="https://github.com/vaexio/vaex">Vaex</a> fills a similar niche as dask and makes working with out-of-core dataframe easy. It has a slightly more intuitive interface and offers many cool visualizations right out of the box.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[55]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">vaex</span> <span class="k">as</span> <span class="nn">vx</span>
</pre></div>
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[56]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">vdf</span> <span class="o">=</span> <span class="n">vx</span><span class="o">.</span><span class="n">from_pandas</span><span class="p">(</span><span class="n">df</span><span class="p">)</span>
<span class="n">vdf</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[56]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<table>
<thead>
<tr><th>#                            </th><th style="text-align: right;">        A</th><th style="text-align: right;">         B</th></tr>
</thead>
<tbody>
<tr><td><i style='opacity: 0.6'>0</i></td><td style="text-align: right;"> 1.20994 </td><td style="text-align: right;">-0.829657 </td></tr>
<tr><td><i style='opacity: 0.6'>1</i></td><td style="text-align: right;">-1.04141 </td><td style="text-align: right;"> 0.138946 </td></tr>
<tr><td><i style='opacity: 0.6'>2</i></td><td style="text-align: right;"> 0.497872</td><td style="text-align: right;"> 0.628439 </td></tr>
<tr><td><i style='opacity: 0.6'>3</i></td><td style="text-align: right;">-0.418077</td><td style="text-align: right;"> 0.0393116</td></tr>
<tr><td><i style='opacity: 0.6'>4</i></td><td style="text-align: right;">-0.353732</td><td style="text-align: right;"> 0.500529 </td></tr>
<tr><td><i style='opacity: 0.6'>5</i></td><td style="text-align: right;"> 0.218921</td><td style="text-align: right;">-0.140769 </td></tr>
<tr><td><i style='opacity: 0.6'>6</i></td><td style="text-align: right;"> 1.44677 </td><td style="text-align: right;"> 0.177711 </td></tr>
<tr><td><i style='opacity: 0.6'>7</i></td><td style="text-align: right;">-0.929196</td><td style="text-align: right;">-0.306118 </td></tr>
<tr><td><i style='opacity: 0.6'>8</i></td><td style="text-align: right;"> 1.23181 </td><td style="text-align: right;"> 1.37377  </td></tr>
<tr><td><i style='opacity: 0.6'>9</i></td><td style="text-align: right;">-0.354355</td><td style="text-align: right;">-1.17795  </td></tr>
</tbody>
</table></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[57]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">vdf</span><span class="p">[</span><span class="s1">&#39;A&#39;</span><span class="p">]</span> <span class="o">+</span> <span class="n">vdf</span><span class="p">[</span><span class="s1">&#39;B&#39;</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[57]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Expression = (A + B)
Length: 1,000,000 dtype: float64 (expression)
---------------------------------------------
     0   0.380288
     1  -0.902464
     2    1.12631
     3  -0.378765
     4   0.146798
       ...
999995   -1.19887
999996   0.195255
999997    1.70759
999998   -1.50522
999999   -1.82815
</pre></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[58]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">vdf</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">vdf</span><span class="p">[</span><span class="s1">&#39;A&#39;</span><span class="p">],</span> <span class="n">vdf</span><span class="p">[</span><span class="s1">&#39;B&#39;</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[58]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
&lt;matplotlib.image.AxesImage at 0x141ea3310&gt;
</pre></div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../_images/misc_PythonAlmanac_100_1.png" src="../_images/misc_PythonAlmanac_100_1.png" />
</div>
</div>
</section>
<section id="Joblib">
<h4>Joblib<a class="headerlink" href="#Joblib" title="Link to this heading"></a></h4>
<p><a class="reference external" href="https://github.com/joblib/joblib">Joblib</a> makes executing functions in parallel very easy and removes boilerplate code.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[59]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">time</span>
<span class="kn">import</span> <span class="nn">random</span>

<span class="kn">import</span> <span class="nn">joblib</span>
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[60]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">heavy_function</span><span class="p">(</span><span class="n">i</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">i</span><span class="si">=}</span><span class="s1">&#39;</span><span class="p">)</span>
    <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="n">random</span><span class="o">.</span><span class="n">random</span><span class="p">())</span>
    <span class="k">return</span> <span class="n">i</span><span class="o">**</span><span class="n">i</span>
</pre></div>
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[61]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">joblib</span><span class="o">.</span><span class="n">Parallel</span><span class="p">(</span><span class="n">n_jobs</span><span class="o">=</span><span class="mi">2</span><span class="p">)([</span><span class="n">joblib</span><span class="o">.</span><span class="n">delayed</span><span class="p">(</span><span class="n">heavy_function</span><span class="p">)(</span><span class="n">i</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">)])</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[61]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
[1, 1, 4, 27, 256, 3125, 46656, 823543, 16777216, 387420489]
</pre></div></div>
</div>
</section>
<section id="Swifter">
<h4>Swifter<a class="headerlink" href="#Swifter" title="Link to this heading"></a></h4>
<p>Choosing the correct way of parallelizing your computations can be non-trivial. <a class="reference external" href="https://github.com/jmcarpenter2/swifter">Swifter</a> tries to automatically select the most suitable one.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[62]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">swifter</span>
</pre></div>
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[63]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_big</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s1">&#39;A&#39;</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="mi">1_000_000</span><span class="p">)})</span>
<span class="n">df_big</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[63]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>A</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>29</td>
    </tr>
    <tr>
      <th>1</th>
      <td>84</td>
    </tr>
    <tr>
      <th>2</th>
      <td>61</td>
    </tr>
    <tr>
      <th>3</th>
      <td>63</td>
    </tr>
    <tr>
      <th>4</th>
      <td>39</td>
    </tr>
  </tbody>
</table>
</div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[64]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">%%time</span>it
<span class="n">df_big</span><span class="p">[</span><span class="s1">&#39;A&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="o">**</span><span class="mi">2</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
526 ms ± 4.48 ms per loop (mean ± std. dev. of 7 runs, 1 loop each)
</pre></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[65]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">%%time</span>it
<span class="n">df_big</span><span class="p">[</span><span class="s1">&#39;A&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">swifter</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="o">**</span><span class="mi">2</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
2.84 ms ± 139 µs per loop (mean ± std. dev. of 7 runs, 100 loops each)
</pre></div></div>
</div>
</section>
</section>
<section id="Bioinformatics">
<h3>Bioinformatics<a class="headerlink" href="#Bioinformatics" title="Link to this heading"></a></h3>
<section id="PyRanges">
<h4>PyRanges<a class="headerlink" href="#PyRanges" title="Link to this heading"></a></h4>
<p><a class="reference external" href="https://github.com/biocore-ntnu/pyranges">PyRanges</a> makes working with genomic ranges easy as pie.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[66]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pyranges</span> <span class="k">as</span> <span class="nn">pr</span>
</pre></div>
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[67]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_exons</span> <span class="o">=</span> <span class="n">pr</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">exons</span><span class="p">()</span>
<span class="n">df_exons</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[67]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
+--------------+-----------+-----------+-------+
| Chromosome   | Start     | End       | +3    |
| (category)   | (int32)   | (int32)   | ...   |
|--------------+-----------+-----------+-------|
| chrX         | 135721701 | 135721963 | ...   |
| chrX         | 135574120 | 135574598 | ...   |
| chrX         | 47868945  | 47869126  | ...   |
| chrX         | 77294333  | 77294480  | ...   |
| ...          | ...       | ...       | ...   |
| chrY         | 15409586  | 15409728  | ...   |
| chrY         | 15478146  | 15478273  | ...   |
| chrY         | 15360258  | 15361762  | ...   |
| chrY         | 15467254  | 15467278  | ...   |
+--------------+-----------+-----------+-------+
Stranded PyRanges object has 1,000 rows and 6 columns from 2 chromosomes.
For printing, the PyRanges was sorted on Chromosome and Strand.
3 hidden columns: Name, Score, Strand
</pre></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[68]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_locus</span> <span class="o">=</span> <span class="n">pr</span><span class="o">.</span><span class="n">PyRanges</span><span class="p">(</span>
    <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s1">&#39;Chromosome&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;chrX&#39;</span><span class="p">],</span> <span class="s1">&#39;Start&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1_400_000</span><span class="p">],</span> <span class="s1">&#39;End&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1_500_000</span><span class="p">]})</span>
<span class="p">)</span>
<span class="n">df_locus</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[68]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
+--------------+-----------+-----------+
| Chromosome   |     Start |       End |
| (category)   |   (int32) |   (int32) |
|--------------+-----------+-----------|
| chrX         |   1400000 |   1500000 |
+--------------+-----------+-----------+
Unstranded PyRanges object has 1 rows and 3 columns from 1 chromosomes.
For printing, the PyRanges was sorted on Chromosome.
</pre></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[69]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_exons</span><span class="o">.</span><span class="n">overlap</span><span class="p">(</span><span class="n">df_locus</span><span class="p">)</span><span class="o">.</span><span class="n">df</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[69]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Chromosome</th>
      <th>Start</th>
      <th>End</th>
      <th>Name</th>
      <th>Score</th>
      <th>Strand</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>chrX</td>
      <td>1475113</td>
      <td>1475229</td>
      <td>NM_001267713_exon_4_0_chrX_1475114_f</td>
      <td>0</td>
      <td>+</td>
    </tr>
    <tr>
      <th>1</th>
      <td>chrX</td>
      <td>1419383</td>
      <td>1419519</td>
      <td>NM_001161531_exon_9_0_chrX_1419384_f</td>
      <td>0</td>
      <td>+</td>
    </tr>
    <tr>
      <th>2</th>
      <td>chrX</td>
      <td>1424338</td>
      <td>1424420</td>
      <td>NM_006140_exon_11_0_chrX_1424339_f</td>
      <td>0</td>
      <td>+</td>
    </tr>
    <tr>
      <th>3</th>
      <td>chrX</td>
      <td>1407651</td>
      <td>1407781</td>
      <td>NM_001161532_exon_3_0_chrX_1407652_f</td>
      <td>0</td>
      <td>+</td>
    </tr>
    <tr>
      <th>4</th>
      <td>chrX</td>
      <td>1404670</td>
      <td>1404813</td>
      <td>NM_172245_exon_3_0_chrX_1404671_f</td>
      <td>0</td>
      <td>+</td>
    </tr>
    <tr>
      <th>5</th>
      <td>chrX</td>
      <td>1424338</td>
      <td>1424420</td>
      <td>NM_001161530_exon_10_0_chrX_1424339_f</td>
      <td>0</td>
      <td>+</td>
    </tr>
    <tr>
      <th>6</th>
      <td>chrX</td>
      <td>1414319</td>
      <td>1414349</td>
      <td>NM_172245_exon_8_0_chrX_1414320_f</td>
      <td>0</td>
      <td>+</td>
    </tr>
    <tr>
      <th>7</th>
      <td>chrX</td>
      <td>1407411</td>
      <td>1407535</td>
      <td>NM_172249_exon_4_0_chrX_1407412_f</td>
      <td>0</td>
      <td>+</td>
    </tr>
  </tbody>
</table>
</div></div>
</div>
</section>
<section id="Obonet">
<h4>Obonet<a class="headerlink" href="#Obonet" title="Link to this heading"></a></h4>
<p><a class="reference external" href="https://github.com/dhimmel/obonet">Obonet</a> is a library for working with (OBO-formatted) ontologies.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[70]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">obonet</span>
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[71]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">url</span> <span class="o">=</span> <span class="s1">&#39;https://github.com/DiseaseOntology/HumanDiseaseOntology/raw/main/src/ontology/HumanDO.obo&#39;</span>
<span class="n">graph</span> <span class="o">=</span> <span class="n">obonet</span><span class="o">.</span><span class="n">read_obo</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[72]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">list</span><span class="p">(</span><span class="n">graph</span><span class="o">.</span><span class="n">nodes</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="kc">True</span><span class="p">))[</span><span class="mi">0</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[72]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
(&#39;DOID:0001816&#39;,
 {&#39;name&#39;: &#39;angiosarcoma&#39;,
  &#39;alt_id&#39;: [&#39;DOID:267&#39;, &#39;DOID:4508&#39;],
  &#39;def&#39;: &#39;&#34;A vascular cancer that derives_from the cells that line the walls of blood vessels or lymphatic vessels.&#34; [url:http\\://en.wikipedia.org/wiki/Hemangiosarcoma, url:https\\://en.wikipedia.org/wiki/Angiosarcoma, url:https\\://ncit.nci.nih.gov/ncitbrowser/ConceptReport.jsp?dictionary=NCI_Thesaurus&amp;ns=ncit&amp;code=C3088, url:https\\://www.ncbi.nlm.nih.gov/pubmed/23327728]&#39;,
  &#39;subset&#39;: [&#39;DO_cancer_slim&#39;, &#39;NCIthesaurus&#39;],
  &#39;synonym&#39;: [&#39;&#34;hemangiosarcoma&#34; EXACT []&#39;],
  &#39;xref&#39;: [&#39;ICDO:9120/3&#39;,
   &#39;MESH:D006394&#39;,
   &#39;NCI:C3088&#39;,
   &#39;NCI:C9275&#39;,
   &#39;SNOMEDCT_US_2020_09_01:39000009&#39;,
   &#39;UMLS_CUI:C0018923&#39;,
   &#39;UMLS_CUI:C0854893&#39;],
  &#39;is_a&#39;: [&#39;DOID:175&#39;]})
</pre></div></div>
</div>
</section>
</section>
<section id="Statistics/Machine-Learning">
<h3>Statistics/Machine Learning<a class="headerlink" href="#Statistics/Machine-Learning" title="Link to this heading"></a></h3>
<section id="Statsmodels">
<h4>Statsmodels<a class="headerlink" href="#Statsmodels" title="Link to this heading"></a></h4>
<p><a class="reference external" href="https://github.com/statsmodels/statsmodels">Statsmodels</a> helps with statistical modelling.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[73]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">statsmodels.formula.api</span> <span class="k">as</span> <span class="nn">smf</span>
</pre></div>
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[74]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_data</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s1">&#39;X&#39;</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">normal</span><span class="p">(</span><span class="n">size</span><span class="o">=</span><span class="mi">100</span><span class="p">)})</span>

<span class="n">df_data</span><span class="p">[</span><span class="s1">&#39;Y&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="mf">1.3</span> <span class="o">*</span> <span class="n">df_data</span><span class="p">[</span><span class="s1">&#39;X&#39;</span><span class="p">]</span> <span class="o">+</span> <span class="mf">4.2</span>

<span class="n">df_data</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[74]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>X</th>
      <th>Y</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>0.927521</td>
      <td>5.405777</td>
    </tr>
    <tr>
      <th>1</th>
      <td>2.110368</td>
      <td>6.943479</td>
    </tr>
    <tr>
      <th>2</th>
      <td>1.517580</td>
      <td>6.172854</td>
    </tr>
    <tr>
      <th>3</th>
      <td>-0.069583</td>
      <td>4.109542</td>
    </tr>
    <tr>
      <th>4</th>
      <td>-0.644390</td>
      <td>3.362293</td>
    </tr>
  </tbody>
</table>
</div></div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[75]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">mod</span> <span class="o">=</span> <span class="n">smf</span><span class="o">.</span><span class="n">ols</span><span class="p">(</span><span class="s1">&#39;Y ~ X&#39;</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">df_data</span><span class="p">)</span>
<span class="n">res</span> <span class="o">=</span> <span class="n">mod</span><span class="o">.</span><span class="n">fit</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[76]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">res</span><span class="o">.</span><span class="n">params</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[76]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Intercept    4.2
X            1.3
dtype: float64
</pre></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[77]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">res</span><span class="o">.</span><span class="n">summary</span><span class="p">()</span><span class="o">.</span><span class="n">tables</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[77]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<table class="simpletable">
<tr>
      <td></td>         <th>coef</th>     <th>std err</th>      <th>t</th>      <th>P>|t|</th>  <th>[0.025</th>    <th>0.975]</th>
</tr>
<tr>
  <th>Intercept</th> <td>    4.2000</td> <td> 2.03e-16</td> <td> 2.07e+16</td> <td> 0.000</td> <td>    4.200</td> <td>    4.200</td>
</tr>
<tr>
  <th>X</th>         <td>    1.3000</td> <td> 1.93e-16</td> <td> 6.73e+15</td> <td> 0.000</td> <td>    1.300</td> <td>    1.300</td>
</tr>
</table></div>
</div>
</section>
<section id="Pingouin">
<h4>Pingouin<a class="headerlink" href="#Pingouin" title="Link to this heading"></a></h4>
<p><a class="reference external" href="https://github.com/raphaelvallat/pingouin">Pingouin</a> provides additional statistical methods.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[78]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pingouin</span> <span class="k">as</span> <span class="nn">pg</span>
</pre></div>
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[79]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">pg</span><span class="o">.</span><span class="n">normality</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">normal</span><span class="p">(</span><span class="n">size</span><span class="o">=</span><span class="mi">100</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>
/Users/kimja/.pyenv/versions/3.8.6/lib/python3.8/site-packages/outdated/utils.py:14: OutdatedPackageWarning: The package outdated is out of date. Your version is 0.2.0, the latest is 0.2.1.
Set the environment variable OUTDATED_IGNORE=1 to disable these warnings.
/Users/kimja/.pyenv/versions/3.8.6/lib/python3.8/site-packages/outdated/utils.py:14: OutdatedPackageWarning: The package pingouin is out of date. Your version is 0.3.9, the latest is 0.3.11.
Set the environment variable OUTDATED_IGNORE=1 to disable these warnings.
</pre></div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[79]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>W</th>
      <th>pval</th>
      <th>normal</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>0.985349</td>
      <td>0.336443</td>
      <td>True</td>
    </tr>
  </tbody>
</table>
</div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[80]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">pg</span><span class="o">.</span><span class="n">normality</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">uniform</span><span class="p">(</span><span class="n">size</span><span class="o">=</span><span class="mi">100</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[80]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>W</th>
      <th>pval</th>
      <th>normal</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>0.946713</td>
      <td>0.000507</td>
      <td>False</td>
    </tr>
  </tbody>
</table>
</div></div>
</div>
</section>
<section id="Scitkit-learn">
<h4>Scitkit-learn<a class="headerlink" href="#Scitkit-learn" title="Link to this heading"></a></h4>
<p><a class="reference external" href="https://github.com/scikit-learn/scikit-learn">Scikit-learn</a> facilitates machine learning in Python.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[81]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">sklearn</span> <span class="kn">import</span> <span class="n">svm</span>
<span class="kn">from</span> <span class="nn">sklearn</span> <span class="kn">import</span> <span class="n">datasets</span>
<span class="kn">from</span> <span class="nn">sklearn.model_selection</span> <span class="kn">import</span> <span class="n">train_test_split</span>
</pre></div>
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[82]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">X</span><span class="p">,</span> <span class="n">y</span> <span class="o">=</span> <span class="n">datasets</span><span class="o">.</span><span class="n">load_iris</span><span class="p">(</span><span class="n">return_X_y</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">X</span><span class="o">.</span><span class="n">shape</span><span class="p">,</span> <span class="n">y</span><span class="o">.</span><span class="n">shape</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[82]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
((150, 4), (150,))
</pre></div></div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[83]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">X_train</span><span class="p">,</span> <span class="n">X_test</span><span class="p">,</span> <span class="n">y_train</span><span class="p">,</span> <span class="n">y_test</span> <span class="o">=</span> <span class="n">train_test_split</span><span class="p">(</span><span class="n">X</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">test_size</span><span class="o">=</span><span class="mf">0.4</span><span class="p">,</span> <span class="n">random_state</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[84]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">clf</span> <span class="o">=</span> <span class="n">svm</span><span class="o">.</span><span class="n">SVC</span><span class="p">(</span><span class="n">kernel</span><span class="o">=</span><span class="s1">&#39;linear&#39;</span><span class="p">,</span> <span class="n">C</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">X_train</span><span class="p">,</span> <span class="n">y_train</span><span class="p">)</span>
<span class="n">clf</span><span class="o">.</span><span class="n">score</span><span class="p">(</span><span class="n">X_test</span><span class="p">,</span> <span class="n">y_test</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[84]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
0.9666666666666667
</pre></div></div>
</div>
<p>Scikit-learn offers various plugins which deal with common issues encountered while modeling.</p>
<p><a class="reference external" href="https://github.com/scikit-learn-contrib/imbalanced-learn">Imbalanced-learn</a> provides various re-sampling techniques when the dataset has annoying class imbalances.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[85]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">collections</span>

<span class="kn">from</span> <span class="nn">imblearn.over_sampling</span> <span class="kn">import</span> <span class="n">RandomOverSampler</span>
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[86]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">ros</span> <span class="o">=</span> <span class="n">RandomOverSampler</span><span class="p">(</span><span class="n">random_state</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[87]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">X_sub</span><span class="p">,</span> <span class="n">y_sub</span> <span class="o">=</span> <span class="n">X</span><span class="p">[:</span><span class="mi">60</span><span class="p">,</span> <span class="p">:],</span> <span class="n">y</span><span class="p">[:</span><span class="mi">60</span><span class="p">]</span>
<span class="n">X_resampled</span><span class="p">,</span> <span class="n">y_resampled</span> <span class="o">=</span> <span class="n">ros</span><span class="o">.</span><span class="n">fit_resample</span><span class="p">(</span><span class="n">X_sub</span><span class="p">,</span> <span class="n">y_sub</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[88]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;sub:&#39;</span><span class="p">,</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">collections</span><span class="o">.</span><span class="n">Counter</span><span class="p">(</span><span class="n">y_sub</span><span class="p">)</span><span class="o">.</span><span class="n">items</span><span class="p">()))</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;resampled:&#39;</span><span class="p">,</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">collections</span><span class="o">.</span><span class="n">Counter</span><span class="p">(</span><span class="n">y_resampled</span><span class="p">)</span><span class="o">.</span><span class="n">items</span><span class="p">()))</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
sub: [(0, 50), (1, 10)]
resampled: [(0, 50), (1, 50)]
</pre></div></div>
</div>
<p><a class="reference external" href="https://github.com/scikit-learn-contrib/category_encoders">Category_encoders</a> helps with converting categorical variables to numerical ones.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[89]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">category_encoders</span>
</pre></div>
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[90]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">tmp</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">([</span><span class="s1">&#39;A&#39;</span><span class="p">,</span> <span class="s1">&#39;B&#39;</span><span class="p">],</span> <span class="n">size</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
<span class="n">df_cat</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s1">&#39;original_class&#39;</span><span class="p">:</span> <span class="n">tmp</span><span class="p">,</span> <span class="s1">&#39;feature01&#39;</span><span class="p">:</span> <span class="n">tmp</span><span class="p">})</span>
<span class="n">df_cat</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[90]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>original_class</th>
      <th>feature01</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>A</td>
      <td>A</td>
    </tr>
    <tr>
      <th>1</th>
      <td>B</td>
      <td>B</td>
    </tr>
    <tr>
      <th>2</th>
      <td>A</td>
      <td>A</td>
    </tr>
    <tr>
      <th>3</th>
      <td>A</td>
      <td>A</td>
    </tr>
    <tr>
      <th>4</th>
      <td>B</td>
      <td>B</td>
    </tr>
  </tbody>
</table>
</div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[91]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">category_encoders</span><span class="o">.</span><span class="n">OneHotEncoder</span><span class="p">(</span><span class="n">cols</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;feature01&#39;</span><span class="p">])</span><span class="o">.</span><span class="n">fit_transform</span><span class="p">(</span><span class="n">df_cat</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[91]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>original_class</th>
      <th>feature01_1</th>
      <th>feature01_2</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>A</td>
      <td>1</td>
      <td>0</td>
    </tr>
    <tr>
      <th>1</th>
      <td>B</td>
      <td>0</td>
      <td>1</td>
    </tr>
    <tr>
      <th>2</th>
      <td>A</td>
      <td>1</td>
      <td>0</td>
    </tr>
    <tr>
      <th>3</th>
      <td>A</td>
      <td>1</td>
      <td>0</td>
    </tr>
    <tr>
      <th>4</th>
      <td>B</td>
      <td>0</td>
      <td>1</td>
    </tr>
    <tr>
      <th>5</th>
      <td>B</td>
      <td>0</td>
      <td>1</td>
    </tr>
    <tr>
      <th>6</th>
      <td>B</td>
      <td>0</td>
      <td>1</td>
    </tr>
    <tr>
      <th>7</th>
      <td>B</td>
      <td>0</td>
      <td>1</td>
    </tr>
    <tr>
      <th>8</th>
      <td>B</td>
      <td>0</td>
      <td>1</td>
    </tr>
    <tr>
      <th>9</th>
      <td>B</td>
      <td>0</td>
      <td>1</td>
    </tr>
  </tbody>
</table>
</div></div>
</div>
<p><a class="reference external" href="https://github.com/DistrictDataLabs/yellowbrick">Yellowbrick</a> makes a multitude of visual diagnostic tools readily accessible.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[92]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">yellowbrick.classifier</span> <span class="kn">import</span> <span class="n">ROCAUC</span>
</pre></div>
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[93]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">clf</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">X</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[93]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
SVC(C=1, kernel=&#39;linear&#39;)
</pre></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[94]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">visualizer</span> <span class="o">=</span> <span class="n">ROCAUC</span><span class="p">(</span><span class="n">clf</span><span class="p">)</span>
<span class="c1"># visualizer.score(X, y)  # TODO: uncomment once scikit-learn is fixed</span>
<span class="n">visualizer</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../_images/misc_PythonAlmanac_149_0.png" src="../_images/misc_PythonAlmanac_149_0.png" />
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[94]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
&lt;AxesSubplot:title={&#39;center&#39;:&#39;ROC Curves for SVC&#39;}, xlabel=&#39;False Positive Rate&#39;, ylabel=&#39;True Positive Rate&#39;&gt;
</pre></div></div>
</div>
</section>
</section>
</section>
<section id="Language-Bindings">
<h2>Language Bindings<a class="headerlink" href="#Language-Bindings" title="Link to this heading"></a></h2>
<section id="Pybind11">
<h3>Pybind11<a class="headerlink" href="#Pybind11" title="Link to this heading"></a></h3>
<p><a class="reference external" href="https://github.com/pybind/pybind11">Pybind11</a> makes writing bindings between Python and C++ enjoyable. In combination with <a class="reference external" href="https://github.com/tbenthompson/cppimport">cppimport</a> some might even call it fun. It is possible to implement <a class="reference external" href="https://pybind11.readthedocs.io/en/stable/advanced/cast/custom.html">custom typecasters</a> to support bindings for arbitrary objects.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[95]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">%%writefile</span> cpp_source.cpp

<span class="c1">#include &lt;pybind11/pybind11.h&gt;</span>

<span class="n">namespace</span> <span class="n">py</span> <span class="o">=</span> <span class="n">pybind11</span><span class="p">;</span>


<span class="nb">int</span> <span class="n">square</span><span class="p">(</span><span class="nb">int</span> <span class="n">x</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="n">x</span> <span class="o">*</span> <span class="n">x</span><span class="p">;</span>
<span class="p">}</span>

<span class="n">PYBIND11_MODULE</span><span class="p">(</span><span class="n">cpp_source</span><span class="p">,</span> <span class="n">m</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">m</span><span class="o">.</span><span class="n">def</span><span class="p">(</span>
        <span class="s2">&quot;square&quot;</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">square</span><span class="p">,</span>
        <span class="n">py</span><span class="p">::</span><span class="n">arg</span><span class="p">(</span><span class="s2">&quot;x&quot;</span><span class="p">)</span> <span class="o">=</span> <span class="mi">1</span>
    <span class="p">);</span>
<span class="p">}</span>

<span class="o">/*</span>
<span class="o">&lt;%</span>
<span class="n">setup_pybind11</span><span class="p">(</span><span class="n">cfg</span><span class="p">)</span>
<span class="n">cfg</span><span class="p">[</span><span class="s1">&#39;compiler_args&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;-std=c++11&#39;</span><span class="p">]</span>
<span class="o">%&gt;</span>
<span class="o">*/</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Overwriting cpp_source.cpp
</pre></div></div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[96]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">cppimport</span>
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[97]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">cpp_source</span> <span class="o">=</span> <span class="n">cppimport</span><span class="o">.</span><span class="n">imp</span><span class="p">(</span><span class="s1">&#39;cpp_source&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[98]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">cpp_source</span><span class="o">.</span><span class="n">square</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[98]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
25
</pre></div></div>
</div>
</section>
</section>
<section id="Jupyter">
<h2>Jupyter<a class="headerlink" href="#Jupyter" title="Link to this heading"></a></h2>
<section id="Nbstripout">
<h3>Nbstripout<a class="headerlink" href="#Nbstripout" title="Link to this heading"></a></h3>
<p>Commiting Jupyter notebooks to CVS (e.g. git) can be annoying due to non-code properties being saved. <a class="reference external" href="https://github.com/kynan/nbstripout">Nbstripout</a> strips all of those away and can be run automatically for each committed notebook by executing <code class="docutils literal notranslate"><span class="pre">nbstripout</span> <span class="pre">--install</span></code> once.</p>
</section>
</section>
<section id="Miscellaneous">
<h2>Miscellaneous<a class="headerlink" href="#Miscellaneous" title="Link to this heading"></a></h2>
<section id="humanize">
<h3>humanize<a class="headerlink" href="#humanize" title="Link to this heading"></a></h3>
<p><a class="reference external" href="https://github.com/jmoiron/humanize">humanize</a> allows to format numbers with the goal of making them more human-readable.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[99]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">datetime</span>

<span class="kn">import</span> <span class="nn">humanize</span>
</pre></div>
</div>
</div>
<p>This is, of course, highly context-dependent:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[100]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">big_number</span> <span class="o">=</span> <span class="mi">4578934</span>

<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Actual number:&#39;</span><span class="p">,</span> <span class="n">big_number</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Readable number:&#39;</span><span class="p">,</span> <span class="n">humanize</span><span class="o">.</span><span class="n">intword</span><span class="p">(</span><span class="n">big_number</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Time difference:&#39;</span><span class="p">,</span> <span class="n">humanize</span><span class="o">.</span><span class="n">precisedelta</span><span class="p">(</span><span class="n">datetime</span><span class="o">.</span><span class="n">timedelta</span><span class="p">(</span><span class="n">seconds</span><span class="o">=</span><span class="n">big_number</span><span class="p">)))</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;File size:&#39;</span><span class="p">,</span> <span class="n">humanize</span><span class="o">.</span><span class="n">naturalsize</span><span class="p">(</span><span class="n">big_number</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Actual number: 4578934
Readable number: 4.6 million
Time difference: 1 month, 21 days, 23 hours, 55 minutes and 34 seconds
File size: 4.6 MB
</pre></div></div>
</div>
</section>
<section id="rich">
<h3>rich<a class="headerlink" href="#rich" title="Link to this heading"></a></h3>
<p>Making sure that terminal applications have nicely formatted output makes using them a much better experience.</p>
<p><a class="reference external" href="https://github.com/willmcgugan/rich">rich</a> makes it easy to add colors and other fluff.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[101]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">rich</span>
</pre></div>
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[102]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">rich</span><span class="o">.</span><span class="n">print</span><span class="p">(</span><span class="s1">&#39;[green]Hello[/green] [bold red]World[/bold red] :tada:&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area rendered_html docutils container">
<pre style="white-space:pre;overflow-x:auto;line-height:normal;font-family:Menlo,'DejaVu Sans Mono',consolas,'Courier New',monospace"><span style="color: #008000; text-decoration-color: #008000">Hello</span> <span style="color: #800000; text-decoration-color: #800000; font-weight: bold">World</span> 🎉
</pre></div>
</div>
<p>It is also useful in the everyday life of a Python developer:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[103]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">rich</span><span class="o">.</span><span class="n">inspect</span><span class="p">(</span><span class="n">rich</span><span class="o">.</span><span class="n">print</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area rendered_html docutils container">
<pre style="white-space:pre;overflow-x:auto;line-height:normal;font-family:Menlo,'DejaVu Sans Mono',consolas,'Courier New',monospace"><span style="color: #000080; text-decoration-color: #000080">╭──────────────────────────── </span><span style="color: #000080; text-decoration-color: #000080; font-weight: bold">&lt;</span><span style="color: #ff00ff; text-decoration-color: #ff00ff; font-weight: bold">function</span><span style="color: #000000; text-decoration-color: #000000"> print at </span><span style="color: #008080; text-decoration-color: #008080; font-weight: bold">0x14c517d30</span><span style="color: #000080; text-decoration-color: #000080; font-weight: bold">&gt;</span><span style="color: #000080; text-decoration-color: #000080"> ────────────────────────────╮</span>
<span style="color: #000080; text-decoration-color: #000080">│</span> <span style="color: #00ffff; text-decoration-color: #00ffff; font-style: italic">def </span><span style="color: #800000; text-decoration-color: #800000; font-weight: bold">print</span><span style="font-weight: bold">(</span>*objects: Any, <span style="color: #808000; text-decoration-color: #808000">sep</span>=<span style="color: #008000; text-decoration-color: #008000">' '</span>, <span style="color: #808000; text-decoration-color: #808000">end</span>=<span style="color: #008000; text-decoration-color: #008000">'\n'</span>, file: IO<span style="font-weight: bold">[</span>str<span style="font-weight: bold">]</span> = <span style="color: #800080; text-decoration-color: #800080; font-style: italic">None</span>, flush: bool = <span style="color: #ff0000; text-decoration-color: #ff0000; font-style: italic">False</span><span style="font-weight: bold">)</span>: <span style="color: #000080; text-decoration-color: #000080">│</span>
<span style="color: #000080; text-decoration-color: #000080">│</span>                                                                                         <span style="color: #000080; text-decoration-color: #000080">│</span>
<span style="color: #000080; text-decoration-color: #000080">│</span> <span style="color: #008080; text-decoration-color: #008080">Print object</span><span style="color: #008080; text-decoration-color: #008080; font-weight: bold">(</span><span style="color: #008080; text-decoration-color: #008080">s</span><span style="color: #008080; text-decoration-color: #008080; font-weight: bold">)</span><span style="color: #008080; text-decoration-color: #008080"> supplied via positional arguments.</span>                                      <span style="color: #000080; text-decoration-color: #000080">│</span>
<span style="color: #000080; text-decoration-color: #000080">│</span> <span style="color: #008080; text-decoration-color: #008080">This function has an identical signature to the built-in print.</span>                         <span style="color: #000080; text-decoration-color: #000080">│</span>
<span style="color: #000080; text-decoration-color: #000080">│</span> <span style="color: #008080; text-decoration-color: #008080">For more advanced features, see the :class:`~rich.console.Console` class.</span>               <span style="color: #000080; text-decoration-color: #000080">│</span>
<span style="color: #000080; text-decoration-color: #000080">│</span>                                                                                         <span style="color: #000080; text-decoration-color: #000080">│</span>
<span style="color: #000080; text-decoration-color: #000080">│</span> <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">35</span><span style="font-style: italic"> attribute</span><span style="font-weight: bold; font-style: italic">(</span><span style="font-style: italic">s</span><span style="font-weight: bold; font-style: italic">)</span><span style="font-style: italic"> not shown.</span> Run <span style="color: #800000; text-decoration-color: #800000; font-weight: bold">inspect</span><span style="font-weight: bold">(</span>inspect<span style="font-weight: bold">)</span> for options.                            <span style="color: #000080; text-decoration-color: #000080">│</span>
<span style="color: #000080; text-decoration-color: #000080">╰─────────────────────────────────────────────────────────────────────────────────────────╯</span>
</pre></div>
</div>
</section>
</section>
<section id="ToDo">
<h2>ToDo<a class="headerlink" href="#ToDo" title="Link to this heading"></a></h2>
<ul class="simple">
<li><p>Validate your config files using <a class="reference external" href="https://github.com/Julian/jsonschema/">schemas</a>.</p></li>
<li><p>Design your pipelines using <a class="reference external" href="https://bitbucket.org/snakemake/snakemake">Snakemake</a>.</p></li>
<li><p>moviepy</p></li>
<li><p><a class="reference external" href="https://github.com/tqdm/tqdm">https://github.com/tqdm/tqdm</a></p></li>
<li><p><a class="reference external" href="https://github.com/pyca/cryptography">https://github.com/pyca/cryptography</a></p></li>
<li><p>numba</p></li>
<li><p>pythran</p></li>
<li><p><a class="reference external" href="https://github.com/cloudpipe/cloudpickle">https://github.com/cloudpipe/cloudpickle</a></p></li>
<li><p>jupytext</p></li>
<li><p>tensorflow</p></li>
<li><p>filprofiler</p></li>
<li><p><a class="reference external" href="https://github.com/mitmproxy/mitmproxy">https://github.com/mitmproxy/mitmproxy</a></p></li>
<li><p><a class="reference external" href="https://github.com/secdev/scapy">https://github.com/secdev/scapy</a></p></li>
<li><p><a class="reference external" href="https://github.com/emeryberger/scalene">https://github.com/emeryberger/scalene</a></p></li>
<li><p><a class="reference external" href="https://github.com/joerick/pyinstrument">https://github.com/joerick/pyinstrument</a></p></li>
</ul>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="InterceptingHTTPTraffic.html" class="btn btn-neutral float-left" title="Intercepting HTTP(S) Traffic of Android Applications" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="ThreadingVSMultiprocessing.html" class="btn btn-neutral float-right" title="Comparing threading and multiprocessing" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2021, kpj.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>